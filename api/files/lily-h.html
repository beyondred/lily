<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>API Reference - Lily</title><link rel="stylesheet" type="text/css" href="../styles/main.css"><script language=JavaScript src="../javascript/main.js"></script><script language=JavaScript src="../javascript/prettify.js"></script><script language=JavaScript src="../javascript/searchdata.js"></script></head><body class="ContentPage" onLoad="NDOnLoad();prettyPrint();"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version 1.51 -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CSection"><div class=CTopic id=MainTopic><h1 class=CTitle><a name="API_Reference-Lily"></a>API Reference - Lily</h1><div class=CBody><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#API_Reference-Lily" >API Reference - Lily</a></td><td class=SDescription></td></tr><tr class="SSection"><td class=SEntry><a href="#Basic_typedefs" >Basic typedefs</a></td><td class=SDescription></td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Types" >Types</a></td><td class=SDescription></td></tr><tr class="SType SIndent2 SMarked"><td class=SEntry><a href="#lily_bytestring_val" >lily_bytestring_val</a></td><td class=SDescription>Holds a ByteString value.</td></tr><tr class="SType SIndent2"><td class=SEntry><a href="#lily_container_val" >lily_container_val</a></td><td class=SDescription>Holds a variant, user-defined class, List, or Tuple.</td></tr><tr class="SType SIndent2 SMarked"><td class=SEntry><a href="#lily_file_val" >lily_file_val</a></td><td class=SDescription>Holds a File value.</td></tr><tr class="SType SIndent2"><td class=SEntry><a href="#lily_foreign_val" >lily_foreign_val</a></td><td class=SDescription>Holds a foreign class.</td></tr><tr class="SType SIndent2 SMarked"><td class=SEntry><a href="#lily_function_val" >lily_function_val</a></td><td class=SDescription>Holds a Function (could be native or foreign).</td></tr><tr class="SType SIndent2"><td class=SEntry><a href="#lily_generic_val" >lily_generic_val</a></td><td class=SDescription>Holds some kind of pointer value (usually, to be cast to a foreign class).</td></tr><tr class="SType SIndent2 SMarked"><td class=SEntry><a href="#lily_hash_val" >lily_hash_val</a></td><td class=SDescription>Holds a Hash value.</td></tr><tr class="SType SIndent2"><td class=SEntry><a href="#lily_string_val" >lily_string_val</a></td><td class=SDescription>Holds a String value.</td></tr><tr class="SType SIndent2 SMarked"><td class=SEntry><a href="#lily_value" >lily_value</a></td><td class=SDescription>A complete value with class and flag information.</td></tr><tr class="SSection"><td class=SEntry><a href="#Configuration" >Configuration</a></td><td class=SDescription>The configuration struct and related functions.</td></tr><tr class="SClass"><td class=SEntry><a href="#lily_config" id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">lily_config</a></td><td class=SDescription>All interpreter config info goes here.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#lily_config.Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_config.lily_config_init" id=link2 onMouseOver="ShowTip(event, 'tt2', 'link2')" onMouseOut="HideTip('tt2')">lily_config_init</a></td><td class=SDescription>Initialize a config to default values.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_config.lily_config_get" id=link3 onMouseOver="ShowTip(event, 'tt3', 'link3')" onMouseOut="HideTip('tt3')">lily_config_get</a></td><td class=SDescription>Fetch an interpreter&rsquo;s config struct.</td></tr><tr class="SSection"><td class=SEntry><a href="#State_Management" >State Management</a></td><td class=SDescription></td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_new_state" id=link4 onMouseOver="ShowTip(event, 'tt4', 'link4')" onMouseOut="HideTip('tt4')">lily_new_state</a></td><td class=SDescription>Create a new interpreter.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_free_state" id=link5 onMouseOver="ShowTip(event, 'tt5', 'link5')" onMouseOut="HideTip('tt5')">lily_free_state</a></td><td class=SDescription>Destroy an interpreter and any values it holds.</td></tr><tr class="SSection"><td class=SEntry><a href="#Parsing/Rendering" >Parsing/<wbr>Rendering</a></td><td class=SDescription>Parse or render some input.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_parse_file" id=link6 onMouseOver="ShowTip(event, 'tt6', 'link6')" onMouseOut="HideTip('tt6')">lily_parse_file</a></td><td class=SDescription>Send an interpreter to parse a file.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_parse_string" id=link7 onMouseOver="ShowTip(event, 'tt7', 'link7')" onMouseOut="HideTip('tt7')">lily_parse_string</a></td><td class=SDescription>Send an interpreter to parse a string.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_parse_expr" id=link8 onMouseOver="ShowTip(event, 'tt8', 'link8')" onMouseOut="HideTip('tt8')">lily_parse_expr</a></td><td class=SDescription>Process an expression.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_render_file" id=link9 onMouseOver="ShowTip(event, 'tt9', 'link9')" onMouseOut="HideTip('tt9')">lily_render_file</a></td><td class=SDescription>Send an interpreter to render a file.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_render_string" id=link10 onMouseOver="ShowTip(event, 'tt10', 'link10')" onMouseOut="HideTip('tt10')">lily_render_string</a></td><td class=SDescription>Send an interpreter to render a string.</td></tr><tr class="SSection"><td class=SEntry><a href="#Error_Capture" >Error Capture</a></td><td class=SDescription>Capture error information after a failed parse/render.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_error_message" id=link11 onMouseOver="ShowTip(event, 'tt11', 'link11')" onMouseOut="HideTip('tt11')">lily_error_message</a></td><td class=SDescription>Fetch the message and traceback of the last failed parse/render.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_error_message_no_trace" id=link12 onMouseOver="ShowTip(event, 'tt12', 'link12')" onMouseOut="HideTip('tt12')">lily_error_message_no_trace</a></td><td class=SDescription>Fetch only the message of the last failed parse/render.</td></tr><tr class="SSection"><td class=SEntry><a href="#Configuring_render" >Configuring render</a></td><td class=SDescription>Render hook and related functions.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Types" >Types</a></td><td class=SDescription></td></tr><tr class="SType SIndent2 SMarked"><td class=SEntry><a href="#lily_render_func" >lily_render_func</a></td><td class=SDescription>Invoked when template mode needs to render content.</td></tr><tr class="SSection"><td class=SEntry><a href="#Configuring_import" >Configuring import</a></td><td class=SDescription>The import hook and functions it uses.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Types" >Types</a></td><td class=SDescription></td></tr><tr class="SType SIndent2 SMarked"><td class=SEntry><a href="#lily_import_func" >lily_import_func</a></td><td class=SDescription>Invoked to find a module after registered modules have been tried.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_open_file" id=link13 onMouseOver="ShowTip(event, 'tt13', 'link13')" onMouseOut="HideTip('tt13')">lily_open_file</a></td><td class=SDescription>Load a Lily file from a given path.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_open_library" id=link14 onMouseOver="ShowTip(event, 'tt14', 'link14')" onMouseOut="HideTip('tt14')">lily_open_library</a></td><td class=SDescription>Load a library from a given path.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_open_library_data" id=link15 onMouseOver="ShowTip(event, 'tt15', 'link15')" onMouseOut="HideTip('tt15')">lily_open_library_data</a></td><td class=SDescription>Load a preloaded library.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_open_string" id=link16 onMouseOver="ShowTip(event, 'tt16', 'link16')" onMouseOut="HideTip('tt16')">lily_open_string</a></td><td class=SDescription>Load a string (context path, then content) as a library.</td></tr><tr class="SSection"><td class=SEntry><a href="#Class_id_macros" >Class id macros</a></td><td class=SDescription>Class ids for predefined classes.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Macros" >Macros</a></td><td class=SDescription></td></tr><tr class="SMacro SIndent2 SMarked"><td class=SEntry><a href="#LILY_ID_UNSET" >LILY_ID_UNSET</a></td><td class=SDescription>False identity for testing if a value is unset.</td></tr><tr class="SMacro SIndent2"><td class=SEntry><a href="#LILY_ID_INTEGER" >LILY_ID_INTEGER</a></td><td class=SDescription>Identity of the Integer class.</td></tr><tr class="SMacro SIndent2 SMarked"><td class=SEntry><a href="#LILY_ID_DOUBLE" >LILY_ID_DOUBLE</a></td><td class=SDescription>Identity of the Double class.</td></tr><tr class="SMacro SIndent2"><td class=SEntry><a href="#LILY_ID_STRING" >LILY_ID_STRING</a></td><td class=SDescription>Identity of the String class.</td></tr><tr class="SMacro SIndent2 SMarked"><td class=SEntry><a href="#LILY_ID_BYTE" >LILY_ID_BYTE</a></td><td class=SDescription>Identity of the Byte class.</td></tr><tr class="SMacro SIndent2"><td class=SEntry><a href="#LILY_ID_BYTESTRING" >LILY_ID_BYTESTRING</a></td><td class=SDescription>Identity of the ByteString class.</td></tr><tr class="SMacro SIndent2 SMarked"><td class=SEntry><a href="#LILY_ID_BOOLEAN" >LILY_ID_BOOLEAN</a></td><td class=SDescription>Identity of the Boolean class.</td></tr><tr class="SMacro SIndent2"><td class=SEntry><a href="#LILY_ID_FUNCTION" >LILY_ID_FUNCTION</a></td><td class=SDescription>Identity of the Function class.</td></tr><tr class="SMacro SIndent2 SMarked"><td class=SEntry><a href="#LILY_ID_DYNAMIC" >LILY_ID_DYNAMIC</a></td><td class=SDescription>Identity of the Dynamic class.</td></tr><tr class="SMacro SIndent2"><td class=SEntry><a href="#LILY_ID_LIST" >LILY_ID_LIST</a></td><td class=SDescription>Identity of the List class.</td></tr><tr class="SMacro SIndent2 SMarked"><td class=SEntry><a href="#LILY_ID_HASH" >LILY_ID_HASH</a></td><td class=SDescription>Identity of the Hash class.</td></tr><tr class="SMacro SIndent2"><td class=SEntry><a href="#LILY_ID_TUPLE" >LILY_ID_TUPLE</a></td><td class=SDescription>Identity of the Tuple class.</td></tr><tr class="SMacro SIndent2 SMarked"><td class=SEntry><a href="#LILY_ID_FILE" >LILY_ID_FILE</a></td><td class=SDescription>Identity of the File class.</td></tr><tr class="SMacro SIndent2"><td class=SEntry><a href="#LILY_ID_OPTION" >LILY_ID_OPTION</a></td><td class=SDescription>Identity of the Option enum.</td></tr><tr class="SMacro SIndent2 SMarked"><td class=SEntry><a href="#LILY_ID_SOME" >LILY_ID_SOME</a></td><td class=SDescription>Identity of the Some variant.</td></tr><tr class="SMacro SIndent2"><td class=SEntry><a href="#LILY_ID_NONE" >LILY_ID_NONE</a></td><td class=SDescription>Identity of the None variant.</td></tr><tr class="SMacro SIndent2 SMarked"><td class=SEntry><a href="#LILY_ID_RESULT" >LILY_ID_RESULT</a></td><td class=SDescription>Identity of the Result enum.</td></tr><tr class="SMacro SIndent2"><td class=SEntry><a href="#LILY_ID_FAILURE" >LILY_ID_FAILURE</a></td><td class=SDescription>Identity of the Failure variant of Result.</td></tr><tr class="SMacro SIndent2 SMarked"><td class=SEntry><a href="#LILY_ID_SUCCESS" >LILY_ID_SUCCESS</a></td><td class=SDescription>Identity of the Success variant of Result.</td></tr><tr class="SMacro SIndent2"><td class=SEntry><a href="#LILY_ID_EXCEPTION" >LILY_ID_EXCEPTION</a></td><td class=SDescription>Identity of the Exception class.</td></tr><tr class="SMacro SIndent2 SMarked"><td class=SEntry><a href="#LILY_ID_IOERROR" >LILY_ID_IOERROR</a></td><td class=SDescription>Identity of the IOError class.</td></tr><tr class="SMacro SIndent2"><td class=SEntry><a href="#LILY_ID_KEYERROR" >LILY_ID_KEYERROR</a></td><td class=SDescription>Identity of the KeyError class.</td></tr><tr class="SMacro SIndent2 SMarked"><td class=SEntry><a href="#LILY_ID_RUNTIMEERROR" >LILY_ID_RUNTIMEERROR</a></td><td class=SDescription>Identity of the RuntimeError class.</td></tr><tr class="SMacro SIndent2"><td class=SEntry><a href="#LILY_ID_VALUEERROR" >LILY_ID_VALUEERROR</a></td><td class=SDescription>Identity of the ValueError class.</td></tr><tr class="SMacro SIndent2 SMarked"><td class=SEntry><a href="#LILY_ID_INDEXERROR" >LILY_ID_INDEXERROR</a></td><td class=SDescription>Identity of the IndexError class.</td></tr><tr class="SMacro SIndent2"><td class=SEntry><a href="#LILY_ID_DBZERROR" >LILY_ID_DBZERROR</a></td><td class=SDescription>Identity of the DivisionByZero class.</td></tr><tr class="SMacro SIndent2 SMarked"><td class=SEntry><a href="#LILY_ID_UNIT" >LILY_ID_UNIT</a></td><td class=SDescription>Identity of the Unit class.</td></tr><tr class="SSection"><td class=SEntry><a href="#Raw_value_operations" >Raw value operations</a></td><td class=SDescription>Functions that interact with raw values.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_bytestring_raw" id=link17 onMouseOver="ShowTip(event, 'tt17', 'link17')" onMouseOut="HideTip('tt17')">lily_bytestring_raw</a></td><td class=SDescription>Get the raw buffer behind a ByteString.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_bytestring_length" id=link18 onMouseOver="ShowTip(event, 'tt18', 'link18')" onMouseOut="HideTip('tt18')">lily_bytestring_length</a></td><td class=SDescription>Get the size (in bytes) of a ByteString.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_con_get" id=link19 onMouseOver="ShowTip(event, 'tt19', 'link19')" onMouseOut="HideTip('tt19')">lily_con_get</a></td><td class=SDescription>Fetch an element from a container.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_con_set" id=link20 onMouseOver="ShowTip(event, 'tt20', 'link20')" onMouseOut="HideTip('tt20')">lily_con_set</a></td><td class=SDescription>Set an element into a container.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_con_set_from_stack" id=link21 onMouseOver="ShowTip(event, 'tt21', 'link21')" onMouseOut="HideTip('tt21')">lily_con_set_from_stack</a></td><td class=SDescription>(Stack: -1) Set an element into a container from the stack.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_con_size" id=link22 onMouseOver="ShowTip(event, 'tt22', 'link22')" onMouseOut="HideTip('tt22')">lily_con_size</a></td><td class=SDescription>Return the number of occupied values in a container.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_file_for_read" id=link23 onMouseOver="ShowTip(event, 'tt23', 'link23')" onMouseOut="HideTip('tt23')">lily_file_for_read</a></td><td class=SDescription>Return the underlying FILE * of a File (if in read mode), or raise IOError.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_file_for_write" id=link24 onMouseOver="ShowTip(event, 'tt24', 'link24')" onMouseOut="HideTip('tt24')">lily_file_for_write</a></td><td class=SDescription>Return the underlying FILE * of a File (if in write mode), or raise IOError.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_function_is_foreign" id=link25 onMouseOver="ShowTip(event, 'tt25', 'link25')" onMouseOut="HideTip('tt25')">lily_function_is_foreign</a></td><td class=SDescription>Return 1 if the Function has a foreign implementation, 0 otherwise.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_function_is_native" id=link26 onMouseOver="ShowTip(event, 'tt26', 'link26')" onMouseOut="HideTip('tt26')">lily_function_is_native</a></td><td class=SDescription>Return 1 if the Function has a native implementation, 0 otherwise.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_hash_get" id=link27 onMouseOver="ShowTip(event, 'tt27', 'link27')" onMouseOut="HideTip('tt27')">lily_hash_get</a></td><td class=SDescription>Look for a given key within a Hash.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_hash_set" id=link28 onMouseOver="ShowTip(event, 'tt28', 'link28')" onMouseOut="HideTip('tt28')">lily_hash_set</a></td><td class=SDescription>Set &lsquo;key&rsquo; to &lsquo;value&rsquo; within a given hash.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_hash_set_from_stack" id=link29 onMouseOver="ShowTip(event, 'tt29', 'link29')" onMouseOut="HideTip('tt29')">lily_hash_set_from_stack</a></td><td class=SDescription>(Stack: -2) lily_hash_set, but key and value come from the stack.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_hash_take" id=link30 onMouseOver="ShowTip(event, 'tt30', 'link30')" onMouseOut="HideTip('tt30')">lily_hash_take</a></td><td class=SDescription>(Stack: +1?)</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_list_insert" id=link31 onMouseOver="ShowTip(event, 'tt31', 'link31')" onMouseOut="HideTip('tt31')">lily_list_insert</a></td><td class=SDescription>Insert a value, pushing others to the right.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_list_reserve" id=link32 onMouseOver="ShowTip(event, 'tt32', 'link32')" onMouseOut="HideTip('tt32')">lily_list_reserve</a></td><td class=SDescription>Reserve N elements in a List.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_list_take" id=link33 onMouseOver="ShowTip(event, 'tt33', 'link33')" onMouseOut="HideTip('tt33')">lily_list_take</a></td><td class=SDescription>(Stack: +1) Take an element out of a List, pushing it onto the stack.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_list_push" id=link34 onMouseOver="ShowTip(event, 'tt34', 'link34')" onMouseOut="HideTip('tt34')">lily_list_push</a></td><td class=SDescription>Push a value onto the end of a List.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_string_raw" id=link35 onMouseOver="ShowTip(event, 'tt35', 'link35')" onMouseOut="HideTip('tt35')">lily_string_raw</a></td><td class=SDescription>Returns the raw buffer behind a String.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_string_length" id=link36 onMouseOver="ShowTip(event, 'tt36', 'link36')" onMouseOut="HideTip('tt36')">lily_string_length</a></td><td class=SDescription>Returns the size (in bytes) of a String buffer.</td></tr><tr class="SSection"><td class=SEntry><a href="#Argument_handling" >Argument handling</a></td><td class=SDescription>Fetch and/or test arguments passed to a foreign function.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_arg_boolean" id=link37 onMouseOver="ShowTip(event, 'tt37', 'link37')" onMouseOut="HideTip('tt37')">lily_arg_boolean</a></td><td class=SDescription>Fetch a Boolean from the stack.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_arg_byte" id=link38 onMouseOver="ShowTip(event, 'tt38', 'link38')" onMouseOut="HideTip('tt38')">lily_arg_byte</a></td><td class=SDescription>Fetch a Byte from the stack.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_arg_bytestring" id=link39 onMouseOver="ShowTip(event, 'tt39', 'link39')" onMouseOut="HideTip('tt39')">lily_arg_bytestring</a></td><td class=SDescription>Fetch a ByteString from the stack.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_arg_container" id=link40 onMouseOver="ShowTip(event, 'tt40', 'link40')" onMouseOut="HideTip('tt40')">lily_arg_container</a></td><td class=SDescription>Fetch a user-defined class, (non-empty) variant, List, or Tuple.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_arg_double" id=link41 onMouseOver="ShowTip(event, 'tt41', 'link41')" onMouseOut="HideTip('tt41')">lily_arg_double</a></td><td class=SDescription>Fetch a Double from the stack.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_arg_file" id=link42 onMouseOver="ShowTip(event, 'tt42', 'link42')" onMouseOut="HideTip('tt42')">lily_arg_file</a></td><td class=SDescription>Fetch a File from the stack.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_arg_function" id=link43 onMouseOver="ShowTip(event, 'tt43', 'link43')" onMouseOut="HideTip('tt43')">lily_arg_function</a></td><td class=SDescription>Fetch a Function from the stack.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_arg_generic" id=link44 onMouseOver="ShowTip(event, 'tt44', 'link44')" onMouseOut="HideTip('tt44')">lily_arg_generic</a></td><td class=SDescription>Fetch a pointer-based (foreign) value from the stack.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_arg_hash" id=link45 onMouseOver="ShowTip(event, 'tt45', 'link45')" onMouseOut="HideTip('tt45')">lily_arg_hash</a></td><td class=SDescription>Fetch a Hash from the stack.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_arg_integer" id=link46 onMouseOver="ShowTip(event, 'tt46', 'link46')" onMouseOut="HideTip('tt46')">lily_arg_integer</a></td><td class=SDescription>Fetch a Integer from the stack.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_arg_string" id=link47 onMouseOver="ShowTip(event, 'tt47', 'link47')" onMouseOut="HideTip('tt47')">lily_arg_string</a></td><td class=SDescription>Fetch a String from the stack.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_arg_string_raw" id=link48 onMouseOver="ShowTip(event, 'tt48', 'link48')" onMouseOut="HideTip('tt48')">lily_arg_string_raw</a></td><td class=SDescription>Fetch the underlying buffer of a String from the stack.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_arg_value" id=link49 onMouseOver="ShowTip(event, 'tt49', 'link49')" onMouseOut="HideTip('tt49')">lily_arg_value</a></td><td class=SDescription>Fetch a complete value with flags and class information.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_arg_count" id=link50 onMouseOver="ShowTip(event, 'tt50', 'link50')" onMouseOut="HideTip('tt50')">lily_arg_count</a></td><td class=SDescription>How many arguments the function being called was given.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_arg_isa" id=link51 onMouseOver="ShowTip(event, 'tt51', 'link51')" onMouseOut="HideTip('tt51')">lily_arg_isa</a></td><td class=SDescription>Check if an argument has an exact class id.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Macros" >Macros</a></td><td class=SDescription></td></tr><tr class="SMacro SIndent2 SMarked"><td class=SEntry><a href="#lily_arg_is_failure" >lily_arg_is_failure</a></td><td class=SDescription>Calls lily_arg_isa with LILY_ID_FAILURE.</td></tr><tr class="SMacro SIndent2"><td class=SEntry><a href="#lily_arg_is_none" >lily_arg_is_none</a></td><td class=SDescription>Calls lily_arg_isa with LILY_ID_NONE.</td></tr><tr class="SMacro SIndent2 SMarked"><td class=SEntry><a href="#lily_arg_is_some" >lily_arg_is_some</a></td><td class=SDescription>Calls lily_arg_isa with LILY_ID_SOME.</td></tr><tr class="SMacro SIndent2"><td class=SEntry><a href="#lily_arg_is_success" >lily_arg_is_success</a></td><td class=SDescription>Calls lily_arg_isa with LILY_ID_SUCCESS.</td></tr><tr class="SSection"><td class=SEntry><a href="#Stack_pushing" >Stack pushing</a></td><td class=SDescription>Pushing values onto the stack.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_push_boolean" id=link52 onMouseOver="ShowTip(event, 'tt52', 'link52')" onMouseOut="HideTip('tt52')">lily_push_boolean</a></td><td class=SDescription>(Stack: +1) Push a Boolean value onto the stack.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_push_byte" id=link53 onMouseOver="ShowTip(event, 'tt53', 'link53')" onMouseOut="HideTip('tt53')">lily_push_byte</a></td><td class=SDescription>(Stack: +1) Push a Byte value onto the stack.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_push_bytestring" id=link54 onMouseOver="ShowTip(event, 'tt54', 'link54')" onMouseOut="HideTip('tt54')">lily_push_bytestring</a></td><td class=SDescription>(Stack: +1) Push a ByteString value onto the stack.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_push_double" id=link55 onMouseOver="ShowTip(event, 'tt55', 'link55')" onMouseOut="HideTip('tt55')">lily_push_double</a></td><td class=SDescription>(Stack: +1) Push a Double value onto the stack.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_push_dynamic" id=link56 onMouseOver="ShowTip(event, 'tt56', 'link56')" onMouseOut="HideTip('tt56')">lily_push_dynamic</a></td><td class=SDescription>(Stack: +1) Push a Dynamic value onto the stack.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_push_empty_variant" id=link57 onMouseOver="ShowTip(event, 'tt57', 'link57')" onMouseOut="HideTip('tt57')">lily_push_empty_variant</a></td><td class=SDescription>(Stack: +1) Push an empty variant (such as None) onto the stack.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_push_file" id=link58 onMouseOver="ShowTip(event, 'tt58', 'link58')" onMouseOut="HideTip('tt58')">lily_push_file</a></td><td class=SDescription>(Stack: +1) Push a file onto the stack (interpreter takes it over).</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_push_foreign" id=link59 onMouseOver="ShowTip(event, 'tt59', 'link59')" onMouseOut="HideTip('tt59')">lily_push_foreign</a></td><td class=SDescription>(Stack: +1) Push a foreign class value onto the stack.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_push_hash" id=link60 onMouseOver="ShowTip(event, 'tt60', 'link60')" onMouseOut="HideTip('tt60')">lily_push_hash</a></td><td class=SDescription>(Stack: +1) Push a new Hash with &lsquo;size&rsquo; slots reserved onto the stack.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_push_instance" id=link61 onMouseOver="ShowTip(event, 'tt61', 'link61')" onMouseOut="HideTip('tt61')">lily_push_instance</a></td><td class=SDescription>(Stack: +1) Push a user-defined class instance with &lsquo;size&rsquo; values onto the stack.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_push_integer" id=link62 onMouseOver="ShowTip(event, 'tt62', 'link62')" onMouseOut="HideTip('tt62')">lily_push_integer</a></td><td class=SDescription>(Stack: +1) Push a new Integer onto the stack.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_push_list" id=link63 onMouseOver="ShowTip(event, 'tt63', 'link63')" onMouseOut="HideTip('tt63')">lily_push_list</a></td><td class=SDescription>(Stack: +1) Push a List with &lsquo;size&rsquo; values onto the stack.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_push_string" id=link64 onMouseOver="ShowTip(event, 'tt64', 'link64')" onMouseOut="HideTip('tt64')">lily_push_string</a></td><td class=SDescription>(Stack: +1) Push a String wrapping over &lsquo;source&rsquo; onto the stack.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_push_string_sized" id=link65 onMouseOver="ShowTip(event, 'tt65', 'link65')" onMouseOut="HideTip('tt65')">lily_push_string_sized</a></td><td class=SDescription>(Stack: +1) Push a String of &lsquo;size&rsquo; bytes from &lsquo;source&rsquo; onto the stack.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_push_super" id=link66 onMouseOver="ShowTip(event, 'tt66', 'link66')" onMouseOut="HideTip('tt66')">lily_push_super</a></td><td class=SDescription>(Stack: +1) Push a superclass onto the stack.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_push_tuple" id=link67 onMouseOver="ShowTip(event, 'tt67', 'link67')" onMouseOut="HideTip('tt67')">lily_push_tuple</a></td><td class=SDescription>(Stack: +1) Push a Tuple with &lsquo;size&rsquo; values onto the stack.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_push_unit" id=link68 onMouseOver="ShowTip(event, 'tt68', 'link68')" onMouseOut="HideTip('tt68')">lily_push_unit</a></td><td class=SDescription>(Stack: +1) Push the unit value (of class Unit) onto the stack.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_push_value" id=link69 onMouseOver="ShowTip(event, 'tt69', 'link69')" onMouseOut="HideTip('tt69')">lily_push_value</a></td><td class=SDescription>(Stack: +1) Push a full value onto the stack.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_push_variant" id=link70 onMouseOver="ShowTip(event, 'tt70', 'link70')" onMouseOut="HideTip('tt70')">lily_push_variant</a></td><td class=SDescription>(Stack: +1) Push a variant of &lsquo;class_id&rsquo; and &lsquo;size&rsquo; values onto the stack.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Macros" >Macros</a></td><td class=SDescription></td></tr><tr class="SMacro SIndent2 SMarked"><td class=SEntry><a href="#lily_push_failure" >lily_push_failure</a></td><td class=SDescription>Shorthand for lily_push_variant with LILY_ID_FAILURE.</td></tr><tr class="SMacro SIndent2"><td class=SEntry><a href="#lily_push_none" >lily_push_none</a></td><td class=SDescription>Shorthand for lily_push_empty_variant with LILY_ID_NONE.</td></tr><tr class="SMacro SIndent2 SMarked"><td class=SEntry><a href="#lily_push_some" >lily_push_some</a></td><td class=SDescription>Shorthand for lily_push_some with LILY_ID_SOME.</td></tr><tr class="SMacro SIndent2"><td class=SEntry><a href="#lily_push_success" >lily_push_success</a></td><td class=SDescription>Shorthand for lily_push_success with LILY_ID_SUCCESS.</td></tr><tr class="SSection"><td class=SEntry><a href="#Returning_a_value" >Returning a value</a></td><td class=SDescription>All foreign functions must finish by returning a value.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_return_boolean" id=link71 onMouseOver="ShowTip(event, 'tt71', 'link71')" onMouseOut="HideTip('tt71')">lily_return_boolean</a></td><td class=SDescription>Set a Boolean return value.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_return_byte" id=link72 onMouseOver="ShowTip(event, 'tt72', 'link72')" onMouseOut="HideTip('tt72')">lily_return_byte</a></td><td class=SDescription>Set a Byte return value.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_return_double" id=link73 onMouseOver="ShowTip(event, 'tt73', 'link73')" onMouseOut="HideTip('tt73')">lily_return_double</a></td><td class=SDescription>Set a Double return value.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_return_integer" id=link74 onMouseOver="ShowTip(event, 'tt74', 'link74')" onMouseOut="HideTip('tt74')">lily_return_integer</a></td><td class=SDescription>Set an Integer return value.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_return_none" id=link75 onMouseOver="ShowTip(event, 'tt75', 'link75')" onMouseOut="HideTip('tt75')">lily_return_none</a></td><td class=SDescription>Set a None return value.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_return_super" id=link76 onMouseOver="ShowTip(event, 'tt76', 'link76')" onMouseOut="HideTip('tt76')">lily_return_super</a></td><td class=SDescription>Use this if lily_push_super was used.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_return_top" id=link77 onMouseOver="ShowTip(event, 'tt77', 'link77')" onMouseOut="HideTip('tt77')">lily_return_top</a></td><td class=SDescription>Set the return value as the value currently at the top of the stack.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_return_unit" id=link78 onMouseOver="ShowTip(event, 'tt78', 'link78')" onMouseOut="HideTip('tt78')">lily_return_unit</a></td><td class=SDescription>Set a Unit return value.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_return_value" id=link79 onMouseOver="ShowTip(event, 'tt79', 'link79')" onMouseOut="HideTip('tt79')">lily_return_value</a></td><td class=SDescription>Set the value given as the return value.</td></tr><tr class="SSection"><td class=SEntry><a href="#Value_extraction" >Value extraction</a></td><td class=SDescription>Extract a raw value from a full value.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_as_boolean" id=link80 onMouseOver="ShowTip(event, 'tt80', 'link80')" onMouseOut="HideTip('tt80')">lily_as_boolean</a></td><td class=SDescription>Extract a Boolean.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_as_byte" id=link81 onMouseOver="ShowTip(event, 'tt81', 'link81')" onMouseOut="HideTip('tt81')">lily_as_byte</a></td><td class=SDescription>Extract a Byte.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_as_bytestring" id=link82 onMouseOver="ShowTip(event, 'tt82', 'link82')" onMouseOut="HideTip('tt82')">lily_as_bytestring</a></td><td class=SDescription>Extract a ByteString.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_as_container" id=link83 onMouseOver="ShowTip(event, 'tt83', 'link83')" onMouseOut="HideTip('tt83')">lily_as_container</a></td><td class=SDescription>Extract a container (user-defined class, non-empty variant, List, or Tuple).</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_as_double" id=link84 onMouseOver="ShowTip(event, 'tt84', 'link84')" onMouseOut="HideTip('tt84')">lily_as_double</a></td><td class=SDescription>Extract a Double.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_as_file" id=link85 onMouseOver="ShowTip(event, 'tt85', 'link85')" onMouseOut="HideTip('tt85')">lily_as_file</a></td><td class=SDescription>Extract a File.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_as_function" id=link86 onMouseOver="ShowTip(event, 'tt86', 'link86')" onMouseOut="HideTip('tt86')">lily_as_function</a></td><td class=SDescription>Extract a Function.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_as_generic" id=link87 onMouseOver="ShowTip(event, 'tt87', 'link87')" onMouseOut="HideTip('tt87')">lily_as_generic</a></td><td class=SDescription>Extract a generic pointer (to be cast to some other type)..</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_as_hash" id=link88 onMouseOver="ShowTip(event, 'tt88', 'link88')" onMouseOut="HideTip('tt88')">lily_as_hash</a></td><td class=SDescription>Extract a Hash.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_as_integer" id=link89 onMouseOver="ShowTip(event, 'tt89', 'link89')" onMouseOut="HideTip('tt89')">lily_as_integer</a></td><td class=SDescription>Extract a Integer.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_as_string" id=link90 onMouseOver="ShowTip(event, 'tt90', 'link90')" onMouseOut="HideTip('tt90')">lily_as_string</a></td><td class=SDescription>Extract a String.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_as_string_raw" id=link91 onMouseOver="ShowTip(event, 'tt91', 'link91')" onMouseOut="HideTip('tt91')">lily_as_string_raw</a></td><td class=SDescription>Extract the raw buffer behind a String.</td></tr><tr class="SSection"><td class=SEntry><a href="#Calling_a_function" >Calling a function</a></td><td class=SDescription>Functions for calling back into the interpreter.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_call" id=link92 onMouseOver="ShowTip(event, 'tt92', 'link92')" onMouseOut="HideTip('tt92')">lily_call</a></td><td class=SDescription>(Stack: -count) Perform a prepared call using values from the stack.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_call_prepare" id=link93 onMouseOver="ShowTip(event, 'tt93', 'link93')" onMouseOut="HideTip('tt93')">lily_call_prepare</a></td><td class=SDescription>(Stack: +1) Reserve a result register and prepare &lsquo;func&rsquo;.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_call_result" id=link94 onMouseOver="ShowTip(event, 'tt94', 'link94')" onMouseOut="HideTip('tt94')">lily_call_result</a></td><td class=SDescription>Return the register that &lsquo;lily_call_prepare&rsquo; reserved.</td></tr><tr class="SSection"><td class=SEntry><a href="#Exception_raise" >Exception raise</a></td><td class=SDescription>Functions for raising an exception.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_DivisionByZeroError" id=link95 onMouseOver="ShowTip(event, 'tt95', 'link95')" onMouseOut="HideTip('tt95')">lily_DivisionByZeroError</a></td><td class=SDescription>Raise DivisionByZeroError with the given message and args.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_IndexError" id=link96 onMouseOver="ShowTip(event, 'tt96', 'link96')" onMouseOut="HideTip('tt96')">lily_IndexError</a></td><td class=SDescription>Raise IndexError with the given message and args.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_IOError" id=link97 onMouseOver="ShowTip(event, 'tt97', 'link97')" onMouseOut="HideTip('tt97')">lily_IOError</a></td><td class=SDescription>Raise IOError with the given message and args.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_KeyError" id=link98 onMouseOver="ShowTip(event, 'tt98', 'link98')" onMouseOut="HideTip('tt98')">lily_KeyError</a></td><td class=SDescription>Raise KeyError with the given message and args.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_RuntimeError" id=link99 onMouseOver="ShowTip(event, 'tt99', 'link99')" onMouseOut="HideTip('tt99')">lily_RuntimeError</a></td><td class=SDescription>Raise RuntimeError with the given message and args.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_ValueError" id=link100 onMouseOver="ShowTip(event, 'tt100', 'link100')" onMouseOut="HideTip('tt100')">lily_ValueError</a></td><td class=SDescription>Raise ValueError with the given message and args.</td></tr><tr class="SSection"><td class=SEntry><a href="#Error_callbacks" >Error callbacks</a></td><td class=SDescription>Foreign function cleanup.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Types" >Types</a></td><td class=SDescription></td></tr><tr class="SType SIndent2 SMarked"><td class=SEntry><a href="#lily_error_callback_func" >lily_error_callback_func</a></td><td class=SDescription>Callback for when lily_call raises an exception.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_error_callback_push" id=link101 onMouseOver="ShowTip(event, 'tt101', 'link101')" onMouseOut="HideTip('tt101')">lily_error_callback_push</a></td><td class=SDescription>Push an error callback for the current foreign function.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_error_callback_pop" id=link102 onMouseOver="ShowTip(event, 'tt102', 'link102')" onMouseOut="HideTip('tt102')">lily_error_callback_pop</a></td><td class=SDescription>Remove an error callback (typically at foreign function exit).</td></tr><tr class="SSection"><td class=SEntry><a href="#Stack_operations" >Stack operations</a></td><td class=SDescription>Operations working on the top of the stack.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_stack_drop_top" id=link103 onMouseOver="ShowTip(event, 'tt103', 'link103')" onMouseOut="HideTip('tt103')">lily_stack_drop_top</a></td><td class=SDescription>Pop the top of the stack, deref-ing it if necessary.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_stack_get_top" id=link104 onMouseOver="ShowTip(event, 'tt104', 'link104')" onMouseOut="HideTip('tt104')">lily_stack_get_top</a></td><td class=SDescription>Return the value at the top of the stack.</td></tr><tr class="SSection"><td class=SEntry><a href="#Message_buffer_operations" >Message buffer operations</a></td><td class=SDescription>A wrapper over an automatically-growing buffer.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Types" >Types</a></td><td class=SDescription></td></tr><tr class="SType SIndent2 SMarked"><td class=SEntry><a href="#lily_msgbuf" >lily_msgbuf</a></td><td class=SDescription>Opaque typedef for a msgbuf.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_new_msgbuf" id=link105 onMouseOver="ShowTip(event, 'tt105', 'link105')" onMouseOut="HideTip('tt105')">lily_new_msgbuf</a></td><td class=SDescription>Create a new msgbuf with a starting size of &lsquo;size&rsquo;.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_free_msgbuf" id=link106 onMouseOver="ShowTip(event, 'tt106', 'link106')" onMouseOut="HideTip('tt106')">lily_free_msgbuf</a></td><td class=SDescription>Free a msgbuf struct and the underlying buffer.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_mb_add" id=link107 onMouseOver="ShowTip(event, 'tt107', 'link107')" onMouseOut="HideTip('tt107')">lily_mb_add</a></td><td class=SDescription>Add &lsquo;source&rsquo; to the msgbuf.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_mb_add_char" id=link108 onMouseOver="ShowTip(event, 'tt108', 'link108')" onMouseOut="HideTip('tt108')">lily_mb_add_char</a></td><td class=SDescription>Add a single character &lsquo;ch&rsquo; to the msgbuf.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_mb_add_fmt" id=link109 onMouseOver="ShowTip(event, 'tt109', 'link109')" onMouseOut="HideTip('tt109')">lily_mb_add_fmt</a></td><td class=SDescription>Add to the msgbuf based on a format string.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_mb_add_fmt_va" id=link110 onMouseOver="ShowTip(event, 'tt110', 'link110')" onMouseOut="HideTip('tt110')">lily_mb_add_fmt_va</a></td><td class=SDescription>lily_mb_add_fmt, but using a va_list.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_mb_add_slice" id=link111 onMouseOver="ShowTip(event, 'tt111', 'link111')" onMouseOut="HideTip('tt111')">lily_mb_add_slice</a></td><td class=SDescription>Add &lsquo;source&rsquo; to the msgbuf, from &lsquo;start&rsquo; to &lsquo;end&rsquo;.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_mb_add_value" id=link112 onMouseOver="ShowTip(event, 'tt112', 'link112')" onMouseOut="HideTip('tt112')">lily_mb_add_value</a></td><td class=SDescription>Interpolate a value into the msgbuf.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_mb_flush" id=link113 onMouseOver="ShowTip(event, 'tt113', 'link113')" onMouseOut="HideTip('tt113')">lily_mb_flush</a></td><td class=SDescription>Drop all contents in the msgbuf.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_mb_raw" id=link114 onMouseOver="ShowTip(event, 'tt114', 'link114')" onMouseOut="HideTip('tt114')">lily_mb_raw</a></td><td class=SDescription>Return the underlying buffer of a msgbuf.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_mb_pos" id=link115 onMouseOver="ShowTip(event, 'tt115', 'link115')" onMouseOut="HideTip('tt115')">lily_mb_pos</a></td><td class=SDescription>Return the length of the msgbuf.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_mb_html_escape" id=link116 onMouseOver="ShowTip(event, 'tt116', 'link116')" onMouseOut="HideTip('tt116')">lily_mb_html_escape</a></td><td class=SDescription>Add html-escaped version of &lsquo;input&rsquo; to the msgbuf.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_mb_sprintf" id=link117 onMouseOver="ShowTip(event, 'tt117', 'link117')" onMouseOut="HideTip('tt117')">lily_mb_sprintf</a></td><td class=SDescription>Equivalent to flush, add_fmt, returning the underlying buffer.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_msgbuf_get" id=link118 onMouseOver="ShowTip(event, 'tt118', 'link118')" onMouseOut="HideTip('tt118')">lily_msgbuf_get</a></td><td class=SDescription>Return the common msgbuf of the interpreter.</td></tr><tr class="SSection"><td class=SEntry><a href="#Foreign_bits" >Foreign bits</a></td><td class=SDescription>Items of interest for putting a foreign class into Lily.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Macros" >Macros</a></td><td class=SDescription></td></tr><tr class="SMacro SIndent2 SMarked"><td class=SEntry><a href="#LILY_FOREIGN_HEADER" >LILY_FOREIGN_HEADER</a></td><td class=SDescription>Put this macro at the top of any struct that is later introduced as a foreign class to the interpreter.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Types" >Types</a></td><td class=SDescription></td></tr><tr class="SType SIndent2 SMarked"><td class=SEntry><a href="#lily_destroy_func" >lily_destroy_func</a></td><td class=SDescription>Hook called when a value is to be destroyed.</td></tr><tr class="SSection"><td class=SEntry><a href="#Miscellaneous" >Miscellaneous</a></td><td class=SDescription>Miscellaneous operations that don&rsquo;t fit elsewhere.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_find_function" id=link119 onMouseOver="ShowTip(event, 'tt119', 'link119')" onMouseOut="HideTip('tt119')">lily_find_function</a></td><td class=SDescription>Search for a function called &lsquo;name&rsquo;.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_register_module" >lily_register_module</a></td><td class=SDescription>Make a module called &lsquo;name&rsquo; available to the interpreter.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_is_valid_utf8" id=link120 onMouseOver="ShowTip(event, 'tt120', 'link120')" onMouseOut="HideTip('tt120')">lily_is_valid_utf8</a></td><td class=SDescription>Check if &lsquo;source&rsquo; is valid utf-8.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#lily_value_tag" id=link121 onMouseOver="ShowTip(event, 'tt121', 'link121')" onMouseOut="HideTip('tt121')">lily_value_tag</a></td><td class=SDescription>Place a gc tag onto &lsquo;value&rsquo;. </td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#lily_cid_at" id=link122 onMouseOver="ShowTip(event, 'tt122', 'link122')" onMouseOut="HideTip('tt122')">lily_cid_at</a></td><td class=SDescription>Function for autogenerated ID_* macros to get a class id.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="Basic_typedefs"></a>Basic typedefs</h2><div class=CBody><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#Types" >Types</a></td><td class=SDescription></td></tr><tr class="SType SIndent1 SMarked"><td class=SEntry><a href="#lily_bytestring_val" >lily_bytestring_val</a></td><td class=SDescription>Holds a ByteString value.</td></tr><tr class="SType SIndent1"><td class=SEntry><a href="#lily_container_val" >lily_container_val</a></td><td class=SDescription>Holds a variant, user-defined class, List, or Tuple.</td></tr><tr class="SType SIndent1 SMarked"><td class=SEntry><a href="#lily_file_val" >lily_file_val</a></td><td class=SDescription>Holds a File value.</td></tr><tr class="SType SIndent1"><td class=SEntry><a href="#lily_foreign_val" >lily_foreign_val</a></td><td class=SDescription>Holds a foreign class.</td></tr><tr class="SType SIndent1 SMarked"><td class=SEntry><a href="#lily_function_val" >lily_function_val</a></td><td class=SDescription>Holds a Function (could be native or foreign).</td></tr><tr class="SType SIndent1"><td class=SEntry><a href="#lily_generic_val" >lily_generic_val</a></td><td class=SDescription>Holds some kind of pointer value (usually, to be cast to a foreign class).</td></tr><tr class="SType SIndent1 SMarked"><td class=SEntry><a href="#lily_hash_val" >lily_hash_val</a></td><td class=SDescription>Holds a Hash value.</td></tr><tr class="SType SIndent1"><td class=SEntry><a href="#lily_string_val" >lily_string_val</a></td><td class=SDescription>Holds a String value.</td></tr><tr class="SType SIndent1 SMarked"><td class=SEntry><a href="#lily_value" >lily_value</a></td><td class=SDescription>A complete value with class and flag information.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Types"></a>Types</h3></div></div>

<div class="CType"><div class=CTopic><h3 class=CTitle><a name="lily_bytestring_val"></a>lily_bytestring_val</h3><div class=CBody><p>Holds a ByteString value.</p></div></div></div>

<div class="CType"><div class=CTopic><h3 class=CTitle><a name="lily_container_val"></a>lily_container_val</h3><div class=CBody><p>Holds a variant, user-defined class, List, or Tuple.</p></div></div></div>

<div class="CType"><div class=CTopic><h3 class=CTitle><a name="lily_file_val"></a>lily_file_val</h3><div class=CBody><p>Holds a File value.</p></div></div></div>

<div class="CType"><div class=CTopic><h3 class=CTitle><a name="lily_foreign_val"></a>lily_foreign_val</h3><div class=CBody><p>Holds a foreign class.</p></div></div></div>

<div class="CType"><div class=CTopic><h3 class=CTitle><a name="lily_function_val"></a>lily_function_val</h3><div class=CBody><p>Holds a Function (could be native or foreign).</p></div></div></div>

<div class="CType"><div class=CTopic><h3 class=CTitle><a name="lily_generic_val"></a>lily_generic_val</h3><div class=CBody><p>Holds some kind of pointer value (usually, to be cast to a foreign class).</p></div></div></div>

<div class="CType"><div class=CTopic><h3 class=CTitle><a name="lily_hash_val"></a>lily_hash_val</h3><div class=CBody><p>Holds a Hash value.</p></div></div></div>

<div class="CType"><div class=CTopic><h3 class=CTitle><a name="lily_string_val"></a>lily_string_val</h3><div class=CBody><p>Holds a String value.</p></div></div></div>

<div class="CType"><div class=CTopic><h3 class=CTitle><a name="lily_value"></a>lily_value</h3><div class=CBody><p>A complete value with class and flag information.</p></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="Configuration"></a>Configuration</h2><div class=CBody><p>The configuration struct and related functions.</p></div></div></div>

<div class="CClass"><div class=CTopic><h2 class=CTitle><a name="lily_config"></a>lily_config</h2><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">typedef struct lily_config_</td></tr></table></blockquote><p>All interpreter config info goes here.</p><p>Every interpreter requires a configuration struct to initialize it.&nbsp; The config struct is a struct with members publically exposed.&nbsp; This allows embedders to grab fields they want instead of going through the hoops of simple get/set functions for an opaque struct.</p><p>Interpreters do not free the config when they are done, nor do they free any fields in the config.&nbsp; It is the caller&rsquo;s responsibility to clean up the config when the interpreter is done.</p><p>Because of that, callers are permitted to use the same configuration to initialize multiple interpreters.</p><p>Callers must not modify configuration members once an interpreter has been created that uses them.</p><h4 class=CHeading>Fields</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>argc</td><td class=CDLDescription>(Default: 0) Number of values in argv.</td></tr><tr><td class=CDLEntry>argv</td><td class=CDLDescription>(Default: NULL) The argument list (later used by Lily&rsquo;s sys.argv).</td></tr><tr><td class=CDLEntry>data</td><td class=CDLDescription>(Default: stdin) This will later be sent as the data part of the import_func hook.</td></tr><tr><td class=CDLEntry>gc_multiplier</td><td class=CDLDescription>(Default: 4) If a gc sweep fails, how much should the count of allowed values be multiplied by?</td></tr><tr><td class=CDLEntry>gc_start</td><td class=CDLDescription>(Default: 100) How many values should be allowed to exist at once before a gc pass.</td></tr><tr><td class=CDLEntry>import_func</td><td class=CDLDescription>(Default: lily_default_import_func) What function should be called to handle imports?</td></tr><tr><td class=CDLEntry>render_func</td><td class=CDLDescription>(Default: fputs) What function should be called if there is template content to be rendered?</td></tr><tr><td class=CDLEntry>sipkey</td><td class=CDLDescription>(Default: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16] The sipkey is an array of 16 char values that helps to prevent collisions in Lily&rsquo;s Hash class.</td></tr></table><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#lily_config.Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_config.lily_config_init" id=link123 onMouseOver="ShowTip(event, 'tt2', 'link123')" onMouseOut="HideTip('tt2')">lily_config_init</a></td><td class=SDescription>Initialize a config to default values.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_config.lily_config_get" id=link124 onMouseOver="ShowTip(event, 'tt3', 'link124')" onMouseOut="HideTip('tt3')">lily_config_get</a></td><td class=SDescription>Fetch an interpreter&rsquo;s config struct.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="lily_config.Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_config.lily_config_init"></a>lily_config_init</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_config_init(</td><td class="PType  prettyprint " nowrap>lily_config&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>config</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Initialize a config to default values.</p><p>This function assumes that the caller has a config struct on the stack.&nbsp; The caller can pass the address of that struct to this function, and the default values will be set.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_config.lily_config_get"></a>lily_config_get</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_config *lily_config_get(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Fetch an interpreter&rsquo;s config struct.</p></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="State_Management"></a>State Management</h2><div class=CBody><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_new_state" id=link125 onMouseOver="ShowTip(event, 'tt4', 'link125')" onMouseOut="HideTip('tt4')">lily_new_state</a></td><td class=SDescription>Create a new interpreter.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_free_state" id=link126 onMouseOver="ShowTip(event, 'tt5', 'link126')" onMouseOut="HideTip('tt5')">lily_free_state</a></td><td class=SDescription>Destroy an interpreter and any values it holds.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_new_state"></a>lily_new_state</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_state *lily_new_state(</td><td class="PType  prettyprint " nowrap>lily_config&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>config</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Create a new interpreter.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_free_state"></a>lily_free_state</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_free_state(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Destroy an interpreter and any values it holds.</p></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="Parsing/Rendering"></a>Parsing/<wbr>Rendering</h2><div class=CBody><p>Parse or render some input.</p><p>These functions are the gateway for sending data to the interpreter to process.&nbsp; These functions must **not** be called while the interpreter is executing a foreign function or a hook.</p><p>Parse functions start with source input read in code-only mode.&nbsp; Render functions begin in template mode, where content is between tags.&nbsp; Regardless of starting mode, imports always run in code-only mode.</p><p>Once these functions process the input that&rsquo;s provided, the input is then executed.&nbsp; If these functions fail to parse what is given, they will &lsquo;rewind&rsquo; away the symbols from the failed parse.</p><p>Following a failed parse, the caller can use the `lily_error_*` set of functions to determine what went wrong.&nbsp; Error information will remain until one of these functions is called again.</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_parse_file" id=link127 onMouseOver="ShowTip(event, 'tt6', 'link127')" onMouseOut="HideTip('tt6')">lily_parse_file</a></td><td class=SDescription>Send an interpreter to parse a file.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_parse_string" id=link128 onMouseOver="ShowTip(event, 'tt7', 'link128')" onMouseOut="HideTip('tt7')">lily_parse_string</a></td><td class=SDescription>Send an interpreter to parse a string.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_parse_expr" id=link129 onMouseOver="ShowTip(event, 'tt8', 'link129')" onMouseOut="HideTip('tt8')">lily_parse_expr</a></td><td class=SDescription>Process an expression.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_render_file" id=link130 onMouseOver="ShowTip(event, 'tt9', 'link130')" onMouseOut="HideTip('tt9')">lily_render_file</a></td><td class=SDescription>Send an interpreter to render a file.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_render_string" id=link131 onMouseOver="ShowTip(event, 'tt10', 'link131')" onMouseOut="HideTip('tt10')">lily_render_string</a></td><td class=SDescription>Send an interpreter to render a string.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_parse_file"></a>lily_parse_file</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_parse_file(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>filename</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Send an interpreter to parse a file.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>s</td><td class=CDLDescription>The interpreter.</td></tr><tr><td class=CDLEntry>filename</td><td class=CDLDescription>A path to a file to process.&nbsp; Must end in &lsquo;.lily&rsquo;.</td></tr></table><p>Returns 1 on success, 0 on failure.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_parse_string"></a>lily_parse_string</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_parse_string(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>context,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>data</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Send an interpreter to parse a string.</p><p>The interpreter does not copy &lsquo;data&rsquo;, so the caller must not modify &lsquo;data&rsquo; while the interpreter is running.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>s</td><td class=CDLDescription>The interpreter.</td></tr><tr><td class=CDLEntry>context</td><td class=CDLDescription>This is the filename to use in case there is an error.</td></tr><tr><td class=CDLEntry>data</td><td class=CDLDescription>The input for the interpreter.</td></tr></table><p>Returns 1 on success, 0 on failure.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_parse_expr"></a>lily_parse_expr</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_parse_expr(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>context,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>data,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>**</td><td class="PParameter  prettyprint " nowrap>output</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Process an expression.</p><p>Attempt to process an expression.&nbsp; If the expression is successfully processed, then &lsquo;output&rsquo; is set to a buffer holding the type and the value of the type.</p><p>The buffer that &lsquo;output&rsquo; holds on success points to an internal msgbuf.&nbsp; It is valid until the next parse or render function is called.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>s</td><td class=CDLDescription>The interpreter.</td></tr><tr><td class=CDLEntry>context</td><td class=CDLDescription>This is the filename to use in case there is an error.</td></tr><tr><td class=CDLEntry>data</td><td class=CDLDescription>The input for the interpreter.</td></tr><tr><td class=CDLEntry>output</td><td class=CDLDescription>If &lsquo;data&rsquo; is a valid expression, then the result is set to the address of &lsquo;output&rsquo;.</td></tr></table><p>Returns 1 on success, 0 on failure.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_render_file"></a>lily_render_file</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_render_file(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>filename</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Send an interpreter to render a file.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>s</td><td class=CDLDescription>The interpreter.</td></tr><tr><td class=CDLEntry>filename</td><td class=CDLDescription>A path to a file to process.&nbsp; Must end in &lsquo;.lily&rsquo;.</td></tr></table><p>Returns 1 on success, 0 on failure.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_render_string"></a>lily_render_string</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_render_string(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>context,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>data</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Send an interpreter to render a string.</p><p>The interpreter does not copy &lsquo;data&rsquo;, so the caller must not modify &lsquo;data&rsquo; while the interpreter is running.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>s</td><td class=CDLDescription>The interpreter.</td></tr><tr><td class=CDLEntry>context</td><td class=CDLDescription>This is the filename to use in case there is an error.</td></tr><tr><td class=CDLEntry>data</td><td class=CDLDescription>The input for the interpreter.</td></tr></table><p>Returns 1 on success, 0 on failure.</p></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="Error_Capture"></a>Error Capture</h2><div class=CBody><p>Capture error information after a failed parse/render.</p><p>These functions capture the error that is raised when a parse or render function fails.&nbsp; Error information from a failed parse or render exists until the next of either is called.</p><p>Capture functions must not be called multiple times.</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_error_message" id=link132 onMouseOver="ShowTip(event, 'tt11', 'link132')" onMouseOut="HideTip('tt11')">lily_error_message</a></td><td class=SDescription>Fetch the message and traceback of the last failed parse/render.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_error_message_no_trace" id=link133 onMouseOver="ShowTip(event, 'tt12', 'link133')" onMouseOut="HideTip('tt12')">lily_error_message_no_trace</a></td><td class=SDescription>Fetch only the message of the last failed parse/render.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_error_message"></a>lily_error_message</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>const char *lily_error_message(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Fetch the message and traceback of the last failed parse/render.</p><p>The output of this function is exactly what the &lsquo;lily&rsquo; executable returns when there is an error (the kind of error, error message, then traceback).</p><p>The result of this is a pointer to a msgbuf inside of the interpeter.&nbsp; The pointer is valid until the next parse/render step.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_error_message_no_trace"></a>lily_error_message_no_trace</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>const char *lily_error_message_no_trace(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Fetch only the message of the last failed parse/render.</p><p>This returns the kind of error raised and the error message.&nbsp; Traceback is omitted.&nbsp; This function is used by the repl.</p><p>The result of this is a pointer to a msgbuf inside of the interpeter.&nbsp; The pointer is valid until the next parse/render step.</p></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="Configuring_render"></a>Configuring render</h2><div class=CBody><p>Render hook and related functions.</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#Types" >Types</a></td><td class=SDescription></td></tr><tr class="SType SIndent1 SMarked"><td class=SEntry><a href="#lily_render_func" >lily_render_func</a></td><td class=SDescription>Invoked when template mode needs to render content.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Types"></a>Types</h3></div></div>

<div class="CType"><div class=CTopic><h3 class=CTitle><a name="lily_render_func"></a>lily_render_func</h3><div class=CBody><p>Invoked when template mode needs to render content.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>content</td><td class=CDLDescription>The text to be rendered.</td></tr><tr><td class=CDLEntry>data</td><td class=CDLDescription>This is the &lsquo;data&rsquo; member of the interpreter&rsquo;s config.</td></tr></table></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="Configuring_import"></a>Configuring import</h2><div class=CBody><p>The import hook and functions it uses.</p><p>Note: The loading functions mentioned here will return 0 on s</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#Types" >Types</a></td><td class=SDescription></td></tr><tr class="SType SIndent1 SMarked"><td class=SEntry><a href="#lily_import_func" >lily_import_func</a></td><td class=SDescription>Invoked to find a module after registered modules have been tried.</td></tr><tr class="SGroup"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_open_file" id=link134 onMouseOver="ShowTip(event, 'tt13', 'link134')" onMouseOut="HideTip('tt13')">lily_open_file</a></td><td class=SDescription>Load a Lily file from a given path.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_open_library" id=link135 onMouseOver="ShowTip(event, 'tt14', 'link135')" onMouseOut="HideTip('tt14')">lily_open_library</a></td><td class=SDescription>Load a library from a given path.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_open_library_data" id=link136 onMouseOver="ShowTip(event, 'tt15', 'link136')" onMouseOut="HideTip('tt15')">lily_open_library_data</a></td><td class=SDescription>Load a preloaded library.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_open_string" id=link137 onMouseOver="ShowTip(event, 'tt16', 'link137')" onMouseOut="HideTip('tt16')">lily_open_string</a></td><td class=SDescription>Load a string (context path, then content) as a library.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Types"></a>Types</h3></div></div>

<div class="CType"><div class=CTopic><h3 class=CTitle><a name="lily_import_func"></a>lily_import_func</h3><div class=CBody><p>Invoked to find a module after registered modules have been tried.</p><p>This hook should use the common msgbuf (lily_msgbuf_get) to build up paths for the `lily_open_*` functions to use.&nbsp; Stop when any of those functions returns 1.</p><p>If unable to load any module, this function should return control the interpreter.&nbsp; The interpreter will then print an error that includes what paths were tried.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>s</td><td class=CDLDescription>The interpreter state.</td></tr><tr><td class=CDLEntry>root_dir</td><td class=CDLDescription>The path from where the interpreter is first invoked to the root of the current package.</td></tr><tr><td class=CDLEntry>current_dir</td><td class=CDLDescription>The directory portion of the import, or empty if there is no directory portion.</td></tr><tr><td class=CDLEntry>name</td><td class=CDLDescription>The name of the module to import.</td></tr></table></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_open_file"></a>lily_open_file</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_open_file(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>path</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Load a Lily file from a given path.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>s</td><td class=CDLDescription>The interpreter state.</td></tr><tr><td class=CDLEntry>path</td><td class=CDLDescription>The path to try loading from.</td></tr></table><p>Returns 1 on success, 0 on failure.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_open_library"></a>lily_open_library</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_open_library(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>path</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Load a library from a given path.</p><p>This function may fail even if &lsquo;path&rsquo; points to a valid shared library.&nbsp; Make sure the library has a dynaload table and a loader function.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>s</td><td class=CDLDescription>The interpreter state.</td></tr><tr><td class=CDLEntry>path</td><td class=CDLDescription>The path to try loading from.</td></tr></table><p>Returns 1 on success, 0 on failure.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_open_library_data"></a>lily_open_library_data</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_open_library_data(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>path,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>**</td><td class="PParameter  prettyprint " nowrap>dynaload_table,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>void&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>loader</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Load a preloaded library.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>s</td><td class=CDLDescription>The interpreter state.</td></tr><tr><td class=CDLEntry>path</td><td class=CDLDescription>The path to register for the library.</td></tr><tr><td class=CDLEntry>dynaload_table</td><td class=CDLDescription>A dynaload table for the library.</td></tr><tr><td class=CDLEntry>loader</td><td class=CDLDescription>A loading function for the library.</td></tr></table><p>Returns 1 on success, 0 on failure.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_open_string"></a>lily_open_string</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_open_string(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>path,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>content</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Load a string (context path, then content) as a library.</p><p>Returns 1 on success, 0 on failure.</p></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="Class_id_macros"></a>Class id macros</h2><div class=CBody><p>Class ids for predefined classes.</p><p>Lily contains several predefined classes.&nbsp; Their ids are made available in case they are useful to embedders.&nbsp; Variant ids, for example, can be used with &lsquo;lily_arg_isa&rsquo; to determine what variant an enum holds.</p><p>Embedders that add a foreign class to the interpreter will be fetching it with &lsquo;lily_cid_at&rsquo;.</p><p>Embedders must not rely on class ids having certain values, as they may (but should not) change between releases.</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#Macros" >Macros</a></td><td class=SDescription></td></tr><tr class="SMacro SIndent1 SMarked"><td class=SEntry><a href="#LILY_ID_UNSET" >LILY_ID_UNSET</a></td><td class=SDescription>False identity for testing if a value is unset.</td></tr><tr class="SMacro SIndent1"><td class=SEntry><a href="#LILY_ID_INTEGER" >LILY_ID_INTEGER</a></td><td class=SDescription>Identity of the Integer class.</td></tr><tr class="SMacro SIndent1 SMarked"><td class=SEntry><a href="#LILY_ID_DOUBLE" >LILY_ID_DOUBLE</a></td><td class=SDescription>Identity of the Double class.</td></tr><tr class="SMacro SIndent1"><td class=SEntry><a href="#LILY_ID_STRING" >LILY_ID_STRING</a></td><td class=SDescription>Identity of the String class.</td></tr><tr class="SMacro SIndent1 SMarked"><td class=SEntry><a href="#LILY_ID_BYTE" >LILY_ID_BYTE</a></td><td class=SDescription>Identity of the Byte class.</td></tr><tr class="SMacro SIndent1"><td class=SEntry><a href="#LILY_ID_BYTESTRING" >LILY_ID_BYTESTRING</a></td><td class=SDescription>Identity of the ByteString class.</td></tr><tr class="SMacro SIndent1 SMarked"><td class=SEntry><a href="#LILY_ID_BOOLEAN" >LILY_ID_BOOLEAN</a></td><td class=SDescription>Identity of the Boolean class.</td></tr><tr class="SMacro SIndent1"><td class=SEntry><a href="#LILY_ID_FUNCTION" >LILY_ID_FUNCTION</a></td><td class=SDescription>Identity of the Function class.</td></tr><tr class="SMacro SIndent1 SMarked"><td class=SEntry><a href="#LILY_ID_DYNAMIC" >LILY_ID_DYNAMIC</a></td><td class=SDescription>Identity of the Dynamic class.</td></tr><tr class="SMacro SIndent1"><td class=SEntry><a href="#LILY_ID_LIST" >LILY_ID_LIST</a></td><td class=SDescription>Identity of the List class.</td></tr><tr class="SMacro SIndent1 SMarked"><td class=SEntry><a href="#LILY_ID_HASH" >LILY_ID_HASH</a></td><td class=SDescription>Identity of the Hash class.</td></tr><tr class="SMacro SIndent1"><td class=SEntry><a href="#LILY_ID_TUPLE" >LILY_ID_TUPLE</a></td><td class=SDescription>Identity of the Tuple class.</td></tr><tr class="SMacro SIndent1 SMarked"><td class=SEntry><a href="#LILY_ID_FILE" >LILY_ID_FILE</a></td><td class=SDescription>Identity of the File class.</td></tr><tr class="SMacro SIndent1"><td class=SEntry><a href="#LILY_ID_OPTION" >LILY_ID_OPTION</a></td><td class=SDescription>Identity of the Option enum.</td></tr><tr class="SMacro SIndent1 SMarked"><td class=SEntry><a href="#LILY_ID_SOME" >LILY_ID_SOME</a></td><td class=SDescription>Identity of the Some variant.</td></tr><tr class="SMacro SIndent1"><td class=SEntry><a href="#LILY_ID_NONE" >LILY_ID_NONE</a></td><td class=SDescription>Identity of the None variant.</td></tr><tr class="SMacro SIndent1 SMarked"><td class=SEntry><a href="#LILY_ID_RESULT" >LILY_ID_RESULT</a></td><td class=SDescription>Identity of the Result enum.</td></tr><tr class="SMacro SIndent1"><td class=SEntry><a href="#LILY_ID_FAILURE" >LILY_ID_FAILURE</a></td><td class=SDescription>Identity of the Failure variant of Result.</td></tr><tr class="SMacro SIndent1 SMarked"><td class=SEntry><a href="#LILY_ID_SUCCESS" >LILY_ID_SUCCESS</a></td><td class=SDescription>Identity of the Success variant of Result.</td></tr><tr class="SMacro SIndent1"><td class=SEntry><a href="#LILY_ID_EXCEPTION" >LILY_ID_EXCEPTION</a></td><td class=SDescription>Identity of the Exception class.</td></tr><tr class="SMacro SIndent1 SMarked"><td class=SEntry><a href="#LILY_ID_IOERROR" >LILY_ID_IOERROR</a></td><td class=SDescription>Identity of the IOError class.</td></tr><tr class="SMacro SIndent1"><td class=SEntry><a href="#LILY_ID_KEYERROR" >LILY_ID_KEYERROR</a></td><td class=SDescription>Identity of the KeyError class.</td></tr><tr class="SMacro SIndent1 SMarked"><td class=SEntry><a href="#LILY_ID_RUNTIMEERROR" >LILY_ID_RUNTIMEERROR</a></td><td class=SDescription>Identity of the RuntimeError class.</td></tr><tr class="SMacro SIndent1"><td class=SEntry><a href="#LILY_ID_VALUEERROR" >LILY_ID_VALUEERROR</a></td><td class=SDescription>Identity of the ValueError class.</td></tr><tr class="SMacro SIndent1 SMarked"><td class=SEntry><a href="#LILY_ID_INDEXERROR" >LILY_ID_INDEXERROR</a></td><td class=SDescription>Identity of the IndexError class.</td></tr><tr class="SMacro SIndent1"><td class=SEntry><a href="#LILY_ID_DBZERROR" >LILY_ID_DBZERROR</a></td><td class=SDescription>Identity of the DivisionByZero class.</td></tr><tr class="SMacro SIndent1 SMarked"><td class=SEntry><a href="#LILY_ID_UNIT" >LILY_ID_UNIT</a></td><td class=SDescription>Identity of the Unit class.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Macros"></a>Macros</h3></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="LILY_ID_UNSET"></a>LILY_ID_UNSET</h3><div class=CBody><p>False identity for testing if a value is unset.</p><p>This id is for use by functions that have optional keyword arguments.&nbsp; Suppose a function takes three keyword arguments, but is only given the first and the third.&nbsp; In such a case, the interpreter sends an &lsquo;unset&rsquo; value to stand in for the second argument to allow using the same calling opcode.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="LILY_ID_INTEGER"></a>LILY_ID_INTEGER</h3><div class=CBody><p>Identity of the Integer class.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="LILY_ID_DOUBLE"></a>LILY_ID_DOUBLE</h3><div class=CBody><p>Identity of the Double class.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="LILY_ID_STRING"></a>LILY_ID_STRING</h3><div class=CBody><p>Identity of the String class.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="LILY_ID_BYTE"></a>LILY_ID_BYTE</h3><div class=CBody><p>Identity of the Byte class.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="LILY_ID_BYTESTRING"></a>LILY_ID_BYTESTRING</h3><div class=CBody><p>Identity of the ByteString class.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="LILY_ID_BOOLEAN"></a>LILY_ID_BOOLEAN</h3><div class=CBody><p>Identity of the Boolean class.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="LILY_ID_FUNCTION"></a>LILY_ID_FUNCTION</h3><div class=CBody><p>Identity of the Function class.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="LILY_ID_DYNAMIC"></a>LILY_ID_DYNAMIC</h3><div class=CBody><p>Identity of the Dynamic class.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="LILY_ID_LIST"></a>LILY_ID_LIST</h3><div class=CBody><p>Identity of the List class.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="LILY_ID_HASH"></a>LILY_ID_HASH</h3><div class=CBody><p>Identity of the Hash class.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="LILY_ID_TUPLE"></a>LILY_ID_TUPLE</h3><div class=CBody><p>Identity of the Tuple class.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="LILY_ID_FILE"></a>LILY_ID_FILE</h3><div class=CBody><p>Identity of the File class.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="LILY_ID_OPTION"></a>LILY_ID_OPTION</h3><div class=CBody><p>Identity of the Option enum.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="LILY_ID_SOME"></a>LILY_ID_SOME</h3><div class=CBody><p>Identity of the Some variant.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="LILY_ID_NONE"></a>LILY_ID_NONE</h3><div class=CBody><p>Identity of the None variant.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="LILY_ID_RESULT"></a>LILY_ID_RESULT</h3><div class=CBody><p>Identity of the Result enum.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="LILY_ID_FAILURE"></a>LILY_ID_FAILURE</h3><div class=CBody><p>Identity of the Failure variant of Result.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="LILY_ID_SUCCESS"></a>LILY_ID_SUCCESS</h3><div class=CBody><p>Identity of the Success variant of Result.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="LILY_ID_EXCEPTION"></a>LILY_ID_EXCEPTION</h3><div class=CBody><p>Identity of the Exception class.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="LILY_ID_IOERROR"></a>LILY_ID_IOERROR</h3><div class=CBody><p>Identity of the IOError class.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="LILY_ID_KEYERROR"></a>LILY_ID_KEYERROR</h3><div class=CBody><p>Identity of the KeyError class.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="LILY_ID_RUNTIMEERROR"></a>LILY_ID_RUNTIMEERROR</h3><div class=CBody><p>Identity of the RuntimeError class.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="LILY_ID_VALUEERROR"></a>LILY_ID_VALUEERROR</h3><div class=CBody><p>Identity of the ValueError class.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="LILY_ID_INDEXERROR"></a>LILY_ID_INDEXERROR</h3><div class=CBody><p>Identity of the IndexError class.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="LILY_ID_DBZERROR"></a>LILY_ID_DBZERROR</h3><div class=CBody><p>Identity of the DivisionByZero class.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="LILY_ID_UNIT"></a>LILY_ID_UNIT</h3><div class=CBody><p>Identity of the Unit class.</p></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="Raw_value_operations"></a>Raw value operations</h2><div class=CBody><p>Functions that interact with raw values.</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_bytestring_raw" id=link138 onMouseOver="ShowTip(event, 'tt17', 'link138')" onMouseOut="HideTip('tt17')">lily_bytestring_raw</a></td><td class=SDescription>Get the raw buffer behind a ByteString.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_bytestring_length" id=link139 onMouseOver="ShowTip(event, 'tt18', 'link139')" onMouseOut="HideTip('tt18')">lily_bytestring_length</a></td><td class=SDescription>Get the size (in bytes) of a ByteString.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_con_get" id=link140 onMouseOver="ShowTip(event, 'tt19', 'link140')" onMouseOut="HideTip('tt19')">lily_con_get</a></td><td class=SDescription>Fetch an element from a container.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_con_set" id=link141 onMouseOver="ShowTip(event, 'tt20', 'link141')" onMouseOut="HideTip('tt20')">lily_con_set</a></td><td class=SDescription>Set an element into a container.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_con_set_from_stack" id=link142 onMouseOver="ShowTip(event, 'tt21', 'link142')" onMouseOut="HideTip('tt21')">lily_con_set_from_stack</a></td><td class=SDescription>(Stack: -1) Set an element into a container from the stack.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_con_size" id=link143 onMouseOver="ShowTip(event, 'tt22', 'link143')" onMouseOut="HideTip('tt22')">lily_con_size</a></td><td class=SDescription>Return the number of occupied values in a container.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_file_for_read" id=link144 onMouseOver="ShowTip(event, 'tt23', 'link144')" onMouseOut="HideTip('tt23')">lily_file_for_read</a></td><td class=SDescription>Return the underlying FILE * of a File (if in read mode), or raise IOError.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_file_for_write" id=link145 onMouseOver="ShowTip(event, 'tt24', 'link145')" onMouseOut="HideTip('tt24')">lily_file_for_write</a></td><td class=SDescription>Return the underlying FILE * of a File (if in write mode), or raise IOError.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_function_is_foreign" id=link146 onMouseOver="ShowTip(event, 'tt25', 'link146')" onMouseOut="HideTip('tt25')">lily_function_is_foreign</a></td><td class=SDescription>Return 1 if the Function has a foreign implementation, 0 otherwise.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_function_is_native" id=link147 onMouseOver="ShowTip(event, 'tt26', 'link147')" onMouseOut="HideTip('tt26')">lily_function_is_native</a></td><td class=SDescription>Return 1 if the Function has a native implementation, 0 otherwise.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_hash_get" id=link148 onMouseOver="ShowTip(event, 'tt27', 'link148')" onMouseOut="HideTip('tt27')">lily_hash_get</a></td><td class=SDescription>Look for a given key within a Hash.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_hash_set" id=link149 onMouseOver="ShowTip(event, 'tt28', 'link149')" onMouseOut="HideTip('tt28')">lily_hash_set</a></td><td class=SDescription>Set &lsquo;key&rsquo; to &lsquo;value&rsquo; within a given hash.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_hash_set_from_stack" id=link150 onMouseOver="ShowTip(event, 'tt29', 'link150')" onMouseOut="HideTip('tt29')">lily_hash_set_from_stack</a></td><td class=SDescription>(Stack: -2) lily_hash_set, but key and value come from the stack.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_hash_take" id=link151 onMouseOver="ShowTip(event, 'tt30', 'link151')" onMouseOut="HideTip('tt30')">lily_hash_take</a></td><td class=SDescription>(Stack: +1?)</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_list_insert" id=link152 onMouseOver="ShowTip(event, 'tt31', 'link152')" onMouseOut="HideTip('tt31')">lily_list_insert</a></td><td class=SDescription>Insert a value, pushing others to the right.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_list_reserve" id=link153 onMouseOver="ShowTip(event, 'tt32', 'link153')" onMouseOut="HideTip('tt32')">lily_list_reserve</a></td><td class=SDescription>Reserve N elements in a List.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_list_take" id=link154 onMouseOver="ShowTip(event, 'tt33', 'link154')" onMouseOut="HideTip('tt33')">lily_list_take</a></td><td class=SDescription>(Stack: +1) Take an element out of a List, pushing it onto the stack.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_list_push" id=link155 onMouseOver="ShowTip(event, 'tt34', 'link155')" onMouseOut="HideTip('tt34')">lily_list_push</a></td><td class=SDescription>Push a value onto the end of a List.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_string_raw" id=link156 onMouseOver="ShowTip(event, 'tt35', 'link156')" onMouseOut="HideTip('tt35')">lily_string_raw</a></td><td class=SDescription>Returns the raw buffer behind a String.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_string_length" id=link157 onMouseOver="ShowTip(event, 'tt36', 'link157')" onMouseOut="HideTip('tt36')">lily_string_length</a></td><td class=SDescription>Returns the size (in bytes) of a String buffer.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_bytestring_raw"></a>lily_bytestring_raw</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>char *lily_bytestring_raw(</td><td class="PType  prettyprint " nowrap>lily_bytestring_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>byte_val</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Get the raw buffer behind a ByteString.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_bytestring_length"></a>lily_bytestring_length</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_bytestring_length(</td><td class="PType  prettyprint " nowrap>lily_bytestring_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>byte_val</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Get the size (in bytes) of a ByteString.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_con_get"></a>lily_con_get</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_value *lily_con_get(</td><td class="PType  prettyprint " nowrap>lily_container_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>con,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Fetch an element from a container.</p><p>This returns a pointer to an element at &lsquo;index&rsquo; within &lsquo;con&rsquo;.&nbsp; The value is **not** given a refcount increase (that happens when the value is put somewhere).&nbsp; The caller can therefore use the result of this function as part of an expression without worrying about a leak.</p><p>No safety checking is performed on the index given.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>con</td><td class=CDLDescription>The container (user-defined class, non-empty variant, List, or Tuple).</td></tr><tr><td class=CDLEntry>index</td><td class=CDLDescription>Target index.&nbsp; Cannot be negative.&nbsp; 0 is the first element.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_con_set"></a>lily_con_set</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_con_set(</td><td class="PType  prettyprint " nowrap>lily_container_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>con,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Set an element into a container.</p><p>This assigns a new value to &lsquo;con&rsquo; at the position &lsquo;index&rsquo;.&nbsp; The source value will receive a ref increase, whereas the old value will have a ref drop (and possibly be destroyed).</p><p>No safety checking is performed on the index given.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>con</td><td class=CDLDescription>The container (user-defined class, non-empty variant, List, or Tuple).</td></tr><tr><td class=CDLEntry>index</td><td class=CDLDescription>Target index.&nbsp; Cannot be negative.&nbsp; 0 is the first element.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_con_set_from_stack"></a>lily_con_set_from_stack</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_con_set_from_stack(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_container_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>con,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>(Stack: -1) Set an element into a container from the stack.</p><p>This pops 1 value from the stack, to be used as the value.&nbsp; Following that, this performs the same work as &lsquo;lily_con_set&rsquo; using that value.</p><p>No safety checking is performed on the index given.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>con</td><td class=CDLDescription>The container (user-defined class, non-empty variant, List, or Tuple).</td></tr><tr><td class=CDLEntry>index</td><td class=CDLDescription>Target index.&nbsp; Cannot be negative.&nbsp; 0 is the first element.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_con_size"></a>lily_con_size</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>uint32_t lily_con_size(</td><td class="PType  prettyprint " nowrap>lily_container_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>con</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Return the number of occupied values in a container.</p><p>For List values, this does **not** include how many values were reserved.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_file_for_read"></a>lily_file_for_read</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>FILE *lily_file_for_read(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_file_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>file</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Return the underlying FILE * of a File (if in read mode), or raise IOError.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_file_for_write"></a>lily_file_for_write</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>FILE *lily_file_for_write(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_file_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>file</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Return the underlying FILE * of a File (if in write mode), or raise IOError.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_function_is_foreign"></a>lily_function_is_foreign</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_function_is_foreign(</td><td class="PType  prettyprint " nowrap>lily_function_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>func</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Return 1 if the Function has a foreign implementation, 0 otherwise.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_function_is_native"></a>lily_function_is_native</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_function_is_native(</td><td class="PType  prettyprint " nowrap>lily_function_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>func</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Return 1 if the Function has a native implementation, 0 otherwise.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_hash_get"></a>lily_hash_get</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_value *lily_hash_get(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_hash_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>hash,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>key</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Look for a given key within a Hash.</p><p>This assumes that &lsquo;key&rsquo; is valid for the hash given.&nbsp; The caller must not send the wrong kind of a key for a hash (ex: a String key for a Integer hash).</p><p>The result of this function is either a pointer to the value found or NULL.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>s</td><td class=CDLDescription>The interpreter.&nbsp; This must be the same interpreter that the hash was created for, because this function uses the interpreter&rsquo;s sipkey.</td></tr><tr><td class=CDLEntry>hash</td><td class=CDLDescription>The target hash value.</td></tr><tr><td class=CDLEntry>key</td><td class=CDLDescription>A full value holding a key to search for.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_hash_set"></a>lily_hash_set</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_hash_set(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_hash_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>hash,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>key,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>record</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Set &lsquo;key&rsquo; to &lsquo;value&rsquo; within a given hash.</p><p>This assumes that both the key and record are valid for this kind of hash.&nbsp; Do not attempt to store the wrong kind of key or record in a hash.</p><p>If the key provided does not already exist in the hash, then both the key and the value are copied into the hash.</p><p>Otherwise, the value for the existing key is overwritten.&nbsp; The value provided will receive a ref increase, whereas the old value gets a ref drop (and may be destroyed.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>s</td><td class=CDLDescription>The interpreter.&nbsp; This must be the same interpreter that the hash was created for, because this function uses the interpreter&rsquo;s sipkey.</td></tr><tr><td class=CDLEntry>hash</td><td class=CDLDescription>The target hash value.</td></tr><tr><td class=CDLEntry>key</td><td class=CDLDescription>A full value holding a key to search for.</td></tr><tr><td class=CDLEntry>record</td><td class=CDLDescription>A full value to store in the hash.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_hash_set_from_stack"></a>lily_hash_set_from_stack</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_hash_set_from_stack(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_hash_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>hash</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>(Stack: -2) lily_hash_set, but key and value come from the stack.</p><p>This pops 2 values from the top of the stack.&nbsp; The first value (the original top of the stack) is the record to use.&nbsp; The second value (the one next to the top) is the key.</p><p>This function then performs the same work as lily_hash_set.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_hash_take"></a>lily_hash_take</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_hash_take(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_hash_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>hash,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>key</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>(Stack: +1?)&nbsp; Maybe take a value from a hash.</p><p>This performs the same work as lily_hash_get.</p><p>If the result is non-NULL, it is pushed onto the stack.&nbsp; Otherwise, no action is performed to the stack.</p><p>Returns 1 if the stack had a value pushed, 0 otherwise.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_list_insert"></a>lily_list_insert</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_list_insert(</td><td class="PType  prettyprint " nowrap>lily_container_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>con,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Insert a value, pushing others to the right.</p><p>This takes a container because List is implemented as a container.&nbsp; However, the caller must **not** send non-List values to this function.</p><p>The index provided must be between existing elements in the List (reserved spaces do not count).&nbsp; This function may, however, use an element that has been reserved.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>con</td><td class=CDLDescription>A List value.</td></tr><tr><td class=CDLEntry>index</td><td class=CDLDescription>Index position.&nbsp; Cannot be negative.&nbsp; 0 is the first element.</td></tr><tr><td class=CDLEntry>value</td><td class=CDLDescription>A full value to push.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_list_reserve"></a>lily_list_reserve</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_list_reserve(</td><td class="PType  prettyprint " nowrap>lily_container_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>con,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>size</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Reserve N elements in a List.</p><p>This takes a container because List is implemented as a container.&nbsp; However, the caller must **not** send non-List values to this function.</p><p>List values are not required to have reserved element in order for other List-based functions to work.&nbsp; This function is for callers who know they will need a very large List and do not want repeated growing.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>con</td><td class=CDLDescription>A List value.</td></tr><tr><td class=CDLEntry>size</td><td class=CDLDescription>The total number of elements to have reserved.&nbsp; If this is less than the number of elements currently reserved, no action is taken.&nbsp; Must not be negative.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_list_take"></a>lily_list_take</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_list_take(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_container_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>con,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>(Stack: +1) Take an element out of a List, pushing it onto the stack.</p><p>This takes a container because List is implemented as a container.&nbsp; However, the caller must **not** send non-List values to this function.</p><p>This performs the same work as lily_list_get.&nbsp; Instead of simply returning the value, it is instead taken from the List and pushed onto the stack.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>s</td><td class=CDLDescription>The interpreter.</td></tr><tr><td class=CDLEntry>con</td><td class=CDLDescription>A List value.</td></tr><tr><td class=CDLEntry>index</td><td class=CDLDescription>Target index.&nbsp; Cannot be negative.&nbsp; 0 is the first element.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_list_push"></a>lily_list_push</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_list_push(</td><td class="PType  prettyprint " nowrap>lily_container_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>con,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Push a value onto the end of a List.</p><p>This takes a container because List is implemented as a container.&nbsp; However, the caller must **not** send non-List values to this function.</p><p>This pushes the value provided onto the end of the List given.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_string_raw"></a>lily_string_raw</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>char *lily_string_raw(</td><td class="PType  prettyprint " nowrap>lily_string_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>string_val</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Returns the raw buffer behind a String.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_string_length"></a>lily_string_length</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_string_length(</td><td class="PType  prettyprint " nowrap>lily_string_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>string_val</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Returns the size (in bytes) of a String buffer.</p></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="Argument_handling"></a>Argument handling</h2><div class=CBody><p>Fetch and/or test arguments passed to a foreign function.</p><p>The lily_arg_* functions grab values from the bottom of the interpreter&rsquo;s stack.&nbsp; The first argument is at index 0.</p><p>These functions are named lily_arg_* because their most common use is fetching arguments of a function.&nbsp; However, they are not limited to that.&nbsp; If, for example, a function takes 2 arguments and a Boolean is pushed, then lily_arg_boolean being passed an index of 2 (the third argument) will yield the value pushed.</p><h4 class=CHeading>How various function features are implemented</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>Variable arguments</td><td class=CDLDescription>Extra arguments are placed into a List which is empty if no extra arguments were passed.</td></tr><tr><td class=CDLEntry>Optional arguments</td><td class=CDLDescription>Functions are provided an argument count, and are responsible for implementing the default values they claim to have.</td></tr><tr><td class=CDLEntry>Keyword arguments</td><td class=CDLDescription>Arguments are rearranged into positional order before the function sees them.&nbsp; If keyword arguments are optional, then the &lsquo;holes&rsquo; are filled by sending an unset value.&nbsp; Use LILY_ID_UNSET with lily_arg_isa to test for holes.</td></tr></table><p>These functions do **not** support negative indexes.</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_arg_boolean" id=link158 onMouseOver="ShowTip(event, 'tt37', 'link158')" onMouseOut="HideTip('tt37')">lily_arg_boolean</a></td><td class=SDescription>Fetch a Boolean from the stack.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_arg_byte" id=link159 onMouseOver="ShowTip(event, 'tt38', 'link159')" onMouseOut="HideTip('tt38')">lily_arg_byte</a></td><td class=SDescription>Fetch a Byte from the stack.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_arg_bytestring" id=link160 onMouseOver="ShowTip(event, 'tt39', 'link160')" onMouseOut="HideTip('tt39')">lily_arg_bytestring</a></td><td class=SDescription>Fetch a ByteString from the stack.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_arg_container" id=link161 onMouseOver="ShowTip(event, 'tt40', 'link161')" onMouseOut="HideTip('tt40')">lily_arg_container</a></td><td class=SDescription>Fetch a user-defined class, (non-empty) variant, List, or Tuple.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_arg_double" id=link162 onMouseOver="ShowTip(event, 'tt41', 'link162')" onMouseOut="HideTip('tt41')">lily_arg_double</a></td><td class=SDescription>Fetch a Double from the stack.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_arg_file" id=link163 onMouseOver="ShowTip(event, 'tt42', 'link163')" onMouseOut="HideTip('tt42')">lily_arg_file</a></td><td class=SDescription>Fetch a File from the stack.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_arg_function" id=link164 onMouseOver="ShowTip(event, 'tt43', 'link164')" onMouseOut="HideTip('tt43')">lily_arg_function</a></td><td class=SDescription>Fetch a Function from the stack.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_arg_generic" id=link165 onMouseOver="ShowTip(event, 'tt44', 'link165')" onMouseOut="HideTip('tt44')">lily_arg_generic</a></td><td class=SDescription>Fetch a pointer-based (foreign) value from the stack.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_arg_hash" id=link166 onMouseOver="ShowTip(event, 'tt45', 'link166')" onMouseOut="HideTip('tt45')">lily_arg_hash</a></td><td class=SDescription>Fetch a Hash from the stack.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_arg_integer" id=link167 onMouseOver="ShowTip(event, 'tt46', 'link167')" onMouseOut="HideTip('tt46')">lily_arg_integer</a></td><td class=SDescription>Fetch a Integer from the stack.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_arg_string" id=link168 onMouseOver="ShowTip(event, 'tt47', 'link168')" onMouseOut="HideTip('tt47')">lily_arg_string</a></td><td class=SDescription>Fetch a String from the stack.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_arg_string_raw" id=link169 onMouseOver="ShowTip(event, 'tt48', 'link169')" onMouseOut="HideTip('tt48')">lily_arg_string_raw</a></td><td class=SDescription>Fetch the underlying buffer of a String from the stack.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_arg_value" id=link170 onMouseOver="ShowTip(event, 'tt49', 'link170')" onMouseOut="HideTip('tt49')">lily_arg_value</a></td><td class=SDescription>Fetch a complete value with flags and class information.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_arg_count" id=link171 onMouseOver="ShowTip(event, 'tt50', 'link171')" onMouseOut="HideTip('tt50')">lily_arg_count</a></td><td class=SDescription>How many arguments the function being called was given.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_arg_isa" id=link172 onMouseOver="ShowTip(event, 'tt51', 'link172')" onMouseOut="HideTip('tt51')">lily_arg_isa</a></td><td class=SDescription>Check if an argument has an exact class id.</td></tr><tr class="SGroup"><td class=SEntry><a href="#Macros" >Macros</a></td><td class=SDescription></td></tr><tr class="SMacro SIndent1 SMarked"><td class=SEntry><a href="#lily_arg_is_failure" >lily_arg_is_failure</a></td><td class=SDescription>Calls lily_arg_isa with LILY_ID_FAILURE.</td></tr><tr class="SMacro SIndent1"><td class=SEntry><a href="#lily_arg_is_none" >lily_arg_is_none</a></td><td class=SDescription>Calls lily_arg_isa with LILY_ID_NONE.</td></tr><tr class="SMacro SIndent1 SMarked"><td class=SEntry><a href="#lily_arg_is_some" >lily_arg_is_some</a></td><td class=SDescription>Calls lily_arg_isa with LILY_ID_SOME.</td></tr><tr class="SMacro SIndent1"><td class=SEntry><a href="#lily_arg_is_success" >lily_arg_is_success</a></td><td class=SDescription>Calls lily_arg_isa with LILY_ID_SUCCESS.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_arg_boolean"></a>lily_arg_boolean</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_arg_boolean (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Fetch a Boolean from the stack.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_arg_byte"></a>lily_arg_byte</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>uint8_t lily_arg_byte (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Fetch a Byte from the stack.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_arg_bytestring"></a>lily_arg_bytestring</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_bytestring_val *lily_arg_bytestring(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Fetch a ByteString from the stack.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_arg_container"></a>lily_arg_container</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_container_val * lily_arg_container (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Fetch a user-defined class, (non-empty) variant, List, or Tuple.</p><p>If the argument can hold an empty variant (such as Option), make sure to test that first.&nbsp; Otherwise, the container returned will be invalid, and using it will almost certainly cause a crash.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_arg_double"></a>lily_arg_double</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>double lily_arg_double (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Fetch a Double from the stack.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_arg_file"></a>lily_arg_file</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_file_val * lily_arg_file (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Fetch a File from the stack.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_arg_function"></a>lily_arg_function</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_function_val * lily_arg_function (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Fetch a Function from the stack.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_arg_generic"></a>lily_arg_generic</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_generic_val * lily_arg_generic (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Fetch a pointer-based (foreign) value from the stack.</p><p>Bindings generated for use by foreign classes will cast the result of this to the appropriate foreign class.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_arg_hash"></a>lily_arg_hash</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_hash_val * lily_arg_hash (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Fetch a Hash from the stack.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_arg_integer"></a>lily_arg_integer</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int64_t lily_arg_integer (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Fetch a Integer from the stack.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_arg_string"></a>lily_arg_string</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_string_val * lily_arg_string (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Fetch a String from the stack.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_arg_string_raw"></a>lily_arg_string_raw</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>char * lily_arg_string_raw(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Fetch the underlying buffer of a String from the stack.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_arg_value"></a>lily_arg_value</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_value * lily_arg_value (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Fetch a complete value with flags and class information.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_arg_count"></a>lily_arg_count</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_arg_count(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>How many arguments the function being called was given.</p><p>Note: Variable argument functions place their extra arguments into a List.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_arg_isa"></a>lily_arg_isa</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_arg_isa(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>uint16_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>class_id</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Check if an argument has an exact class id.</p><p>This is a strict equality comparison to the value at the index provided.&nbsp; Attempting to test that a value of class ValueError isa Exception will therefore fail.</p><p>One use of this function is to identify what variant that an enum is before using the enum.</p><p>Returns 1 if true, 0 otherwise.</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Macros"></a>Macros</h3></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="lily_arg_is_failure"></a>lily_arg_is_failure</h3><div class=CBody><p>Calls lily_arg_isa with LILY_ID_FAILURE.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="lily_arg_is_none"></a>lily_arg_is_none</h3><div class=CBody><p>Calls lily_arg_isa with LILY_ID_NONE.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="lily_arg_is_some"></a>lily_arg_is_some</h3><div class=CBody><p>Calls lily_arg_isa with LILY_ID_SOME.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="lily_arg_is_success"></a>lily_arg_is_success</h3><div class=CBody><p>Calls lily_arg_isa with LILY_ID_SUCCESS.</p></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="Stack_pushing"></a>Stack pushing</h2><div class=CBody><p>Pushing values onto the stack.</p><p>Foreign functions and dynaload loaders are permitted to push extra values onto the interpreter&rsquo;s stack.</p><p>Simple primitives return void, since there is nothing more to do after pushing the value onto the stack.</p><p>Containers, on the other hand, return themselves.&nbsp; It is the caller&rsquo;s responsibility to fill containers befolre using them.</p><p>When implementing a dynaload loader, the variable loading functions should finish with exactly 1 extra value on the stack.&nbsp; That extra value becomes the value for the var.</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_push_boolean" id=link173 onMouseOver="ShowTip(event, 'tt52', 'link173')" onMouseOut="HideTip('tt52')">lily_push_boolean</a></td><td class=SDescription>(Stack: +1) Push a Boolean value onto the stack.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_push_byte" id=link174 onMouseOver="ShowTip(event, 'tt53', 'link174')" onMouseOut="HideTip('tt53')">lily_push_byte</a></td><td class=SDescription>(Stack: +1) Push a Byte value onto the stack.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_push_bytestring" id=link175 onMouseOver="ShowTip(event, 'tt54', 'link175')" onMouseOut="HideTip('tt54')">lily_push_bytestring</a></td><td class=SDescription>(Stack: +1) Push a ByteString value onto the stack.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_push_double" id=link176 onMouseOver="ShowTip(event, 'tt55', 'link176')" onMouseOut="HideTip('tt55')">lily_push_double</a></td><td class=SDescription>(Stack: +1) Push a Double value onto the stack.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_push_dynamic" id=link177 onMouseOver="ShowTip(event, 'tt56', 'link177')" onMouseOut="HideTip('tt56')">lily_push_dynamic</a></td><td class=SDescription>(Stack: +1) Push a Dynamic value onto the stack.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_push_empty_variant" id=link178 onMouseOver="ShowTip(event, 'tt57', 'link178')" onMouseOut="HideTip('tt57')">lily_push_empty_variant</a></td><td class=SDescription>(Stack: +1) Push an empty variant (such as None) onto the stack.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_push_file" id=link179 onMouseOver="ShowTip(event, 'tt58', 'link179')" onMouseOut="HideTip('tt58')">lily_push_file</a></td><td class=SDescription>(Stack: +1) Push a file onto the stack (interpreter takes it over).</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_push_foreign" id=link180 onMouseOver="ShowTip(event, 'tt59', 'link180')" onMouseOut="HideTip('tt59')">lily_push_foreign</a></td><td class=SDescription>(Stack: +1) Push a foreign class value onto the stack.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_push_hash" id=link181 onMouseOver="ShowTip(event, 'tt60', 'link181')" onMouseOut="HideTip('tt60')">lily_push_hash</a></td><td class=SDescription>(Stack: +1) Push a new Hash with &lsquo;size&rsquo; slots reserved onto the stack.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_push_instance" id=link182 onMouseOver="ShowTip(event, 'tt61', 'link182')" onMouseOut="HideTip('tt61')">lily_push_instance</a></td><td class=SDescription>(Stack: +1) Push a user-defined class instance with &lsquo;size&rsquo; values onto the stack.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_push_integer" id=link183 onMouseOver="ShowTip(event, 'tt62', 'link183')" onMouseOut="HideTip('tt62')">lily_push_integer</a></td><td class=SDescription>(Stack: +1) Push a new Integer onto the stack.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_push_list" id=link184 onMouseOver="ShowTip(event, 'tt63', 'link184')" onMouseOut="HideTip('tt63')">lily_push_list</a></td><td class=SDescription>(Stack: +1) Push a List with &lsquo;size&rsquo; values onto the stack.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_push_string" id=link185 onMouseOver="ShowTip(event, 'tt64', 'link185')" onMouseOut="HideTip('tt64')">lily_push_string</a></td><td class=SDescription>(Stack: +1) Push a String wrapping over &lsquo;source&rsquo; onto the stack.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_push_string_sized" id=link186 onMouseOver="ShowTip(event, 'tt65', 'link186')" onMouseOut="HideTip('tt65')">lily_push_string_sized</a></td><td class=SDescription>(Stack: +1) Push a String of &lsquo;size&rsquo; bytes from &lsquo;source&rsquo; onto the stack.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_push_super" id=link187 onMouseOver="ShowTip(event, 'tt66', 'link187')" onMouseOut="HideTip('tt66')">lily_push_super</a></td><td class=SDescription>(Stack: +1) Push a superclass onto the stack.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_push_tuple" id=link188 onMouseOver="ShowTip(event, 'tt67', 'link188')" onMouseOut="HideTip('tt67')">lily_push_tuple</a></td><td class=SDescription>(Stack: +1) Push a Tuple with &lsquo;size&rsquo; values onto the stack.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_push_unit" id=link189 onMouseOver="ShowTip(event, 'tt68', 'link189')" onMouseOut="HideTip('tt68')">lily_push_unit</a></td><td class=SDescription>(Stack: +1) Push the unit value (of class Unit) onto the stack.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_push_value" id=link190 onMouseOver="ShowTip(event, 'tt69', 'link190')" onMouseOut="HideTip('tt69')">lily_push_value</a></td><td class=SDescription>(Stack: +1) Push a full value onto the stack.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_push_variant" id=link191 onMouseOver="ShowTip(event, 'tt70', 'link191')" onMouseOut="HideTip('tt70')">lily_push_variant</a></td><td class=SDescription>(Stack: +1) Push a variant of &lsquo;class_id&rsquo; and &lsquo;size&rsquo; values onto the stack.</td></tr><tr class="SGroup"><td class=SEntry><a href="#Macros" >Macros</a></td><td class=SDescription></td></tr><tr class="SMacro SIndent1 SMarked"><td class=SEntry><a href="#lily_push_failure" >lily_push_failure</a></td><td class=SDescription>Shorthand for lily_push_variant with LILY_ID_FAILURE.</td></tr><tr class="SMacro SIndent1"><td class=SEntry><a href="#lily_push_none" >lily_push_none</a></td><td class=SDescription>Shorthand for lily_push_empty_variant with LILY_ID_NONE.</td></tr><tr class="SMacro SIndent1 SMarked"><td class=SEntry><a href="#lily_push_some" >lily_push_some</a></td><td class=SDescription>Shorthand for lily_push_some with LILY_ID_SOME.</td></tr><tr class="SMacro SIndent1"><td class=SEntry><a href="#lily_push_success" >lily_push_success</a></td><td class=SDescription>Shorthand for lily_push_success with LILY_ID_SUCCESS.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_push_boolean"></a>lily_push_boolean</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_push_boolean (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>(Stack: +1) Push a Boolean value onto the stack.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_push_byte"></a>lily_push_byte</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_push_byte (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>uint8_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>(Stack: +1) Push a Byte value onto the stack.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_push_bytestring"></a>lily_push_bytestring</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_push_bytestring (</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>source,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>size</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>(Stack: +1) Push a ByteString value onto the stack.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_push_double"></a>lily_push_double</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_push_double (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>double&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>(Stack: +1) Push a Double value onto the stack.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_push_dynamic"></a>lily_push_dynamic</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_container_val *lily_push_dynamic (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>(Stack: +1) Push a Dynamic value onto the stack.</p><p>Caller must supply a value to slot 0 before the Dynamic is used.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_push_empty_variant"></a>lily_push_empty_variant</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_push_empty_variant(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>uint16_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>class_id</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>(Stack: +1) Push an empty variant (such as None) onto the stack.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_push_file"></a>lily_push_file</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_push_file (</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>FILE&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>f,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>mode</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>(Stack: +1) Push a file onto the stack (interpreter takes it over).</p><p>This uses the mode provided to determine what mode that the file was opened with.</p><p>Once the File goes out of scope, the interpreter&rsquo;s destroy function for File will automatically close the file.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_push_foreign"></a>lily_push_foreign</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_foreign_val * lily_push_foreign (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>uint16_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>class_id,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_destroy_func&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>destroy_fn,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>size_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>size</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>(Stack: +1) Push a foreign class value onto the stack.</p><p>This function is called by dynaload bindings to create foreign class instances.&nbsp; It should not be called directly.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_push_hash"></a>lily_push_hash</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_hash_val * lily_push_hash (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>size</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>(Stack: +1) Push a new Hash with &lsquo;size&rsquo; slots reserved onto the stack.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_push_instance"></a>lily_push_instance</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_container_val *lily_push_instance (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>uint16_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>class_id,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>size</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>(Stack: +1) Push a user-defined class instance with &lsquo;size&rsquo; values onto the stack.</p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>This allocates &lsquo;size&rsquo; values in the new instance.&nbsp; Slots from 0 up to size</td><td class=CDLDescription>1 must be filled before the instance is used.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_push_integer"></a>lily_push_integer</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_push_integer (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int64_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>(Stack: +1) Push a new Integer onto the stack.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_push_list"></a>lily_push_list</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_container_val *lily_push_list (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>size</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>(Stack: +1) Push a List with &lsquo;size&rsquo; values onto the stack.</p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>This allocates &lsquo;size&rsquo; values in the new List.&nbsp; Slots from 0 up to size</td><td class=CDLDescription>1 must be filled before the List is used.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_push_string"></a>lily_push_string</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_push_string (</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>source</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>(Stack: +1) Push a String wrapping over &lsquo;source&rsquo; onto the stack.</p><p>This creates a String value with a deep copy of &lsquo;source&rsquo;.</p><p>Caller is responsible for making sure that the new String value is valid.&nbsp; The interpreter is built with the expectation that all String values are utf-8.&nbsp; If the caller is unsure, the function &lsquo;lily_is_valid_utf8&rsquo; can be used.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_push_string_sized"></a>lily_push_string_sized</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_push_string_sized (</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>source,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>size</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>(Stack: +1) Push a String of &lsquo;size&rsquo; bytes from &lsquo;source&rsquo; onto the stack.</p><p>This performs the same work as lily_push_string, except that &lsquo;size&rsquo; bytes are copied from &lsquo;source&rsquo; (instead of all of it).</p><p>The source should not include a zero terminator.&nbsp; This function will add one at the very end.&nbsp; Callers should instead make sure that there are no zero terminators in &lsquo;source&rsquo; (at least for as much as &lsquo;size&rsquo;).</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_push_super"></a>lily_push_super</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_container_val *lily_push_super (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>uint16_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>class_id,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>size</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>(Stack: +1) Push a superclass onto the stack.</p><p>This is solely for use by foreign functions acting as a constructor.&nbsp; Those functions are also required to use this function, as otherwise superclass values will not be completely initialized.</p><p>This function checks if there is a superclass currently in progress.&nbsp; If so, then that existing value is pushed onto the stack.&nbsp; Otherwise, it creates a new value with &lsquo;size&rsquo; slots reserved.</p><p>In either case, the caller should then set the slots that are declared in the class it is creating.&nbsp; An example would be inheriting Exception.&nbsp; The Exception constructor should only initialize slots 0 and 1 (the message and traceback, respectively).&nbsp; It should not worry about initialization of other slots.</p><p>This does not handle foreign classes inheriting other foreign classes, because the language does not support that (intentionally).</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_push_tuple"></a>lily_push_tuple</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_container_val *lily_push_tuple (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>size</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>(Stack: +1) Push a Tuple with &lsquo;size&rsquo; values onto the stack.</p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>This allocates &lsquo;size&rsquo; values in the new Tuple.&nbsp; Slots from 0 up to size</td><td class=CDLDescription>1 must be filled before the Tuple is used.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_push_unit"></a>lily_push_unit</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_push_unit (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>(Stack: +1) Push the unit value (of class Unit) onto the stack.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_push_value"></a>lily_push_value</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_push_value (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>(Stack: +1) Push a full value onto the stack.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_push_variant"></a>lily_push_variant</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_container_val *lily_push_variant (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>uint16_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>class_id,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>size</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>(Stack: +1) Push a variant of &lsquo;class_id&rsquo; and &lsquo;size&rsquo; values onto the stack.</p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>This allocates &lsquo;size&rsquo; values in the new variant.&nbsp; Slots from 0 up to size</td><td class=CDLDescription>1 must be filled before the variant is used.</td></tr></table></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Macros"></a>Macros</h3></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="lily_push_failure"></a>lily_push_failure</h3><div class=CBody><p>Shorthand for lily_push_variant with LILY_ID_FAILURE.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="lily_push_none"></a>lily_push_none</h3><div class=CBody><p>Shorthand for lily_push_empty_variant with LILY_ID_NONE.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="lily_push_some"></a>lily_push_some</h3><div class=CBody><p>Shorthand for lily_push_some with LILY_ID_SOME.</p></div></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="lily_push_success"></a>lily_push_success</h3><div class=CBody><p>Shorthand for lily_push_success with LILY_ID_SUCCESS.</p></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="Returning_a_value"></a>Returning a value</h2><div class=CBody><p>All foreign functions must finish by returning a value.</p><p>The most common return is &lsquo;lily_return_top&rsquo;, wherein a caller returns the value at the top of the stack.</p><p>Specific returns for pointer-based values are intentionally omitted.&nbsp; Callers should instead use lily_return_top or lily_return_value, both of which retain the flags behind a value.</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_return_boolean" id=link192 onMouseOver="ShowTip(event, 'tt71', 'link192')" onMouseOut="HideTip('tt71')">lily_return_boolean</a></td><td class=SDescription>Set a Boolean return value.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_return_byte" id=link193 onMouseOver="ShowTip(event, 'tt72', 'link193')" onMouseOut="HideTip('tt72')">lily_return_byte</a></td><td class=SDescription>Set a Byte return value.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_return_double" id=link194 onMouseOver="ShowTip(event, 'tt73', 'link194')" onMouseOut="HideTip('tt73')">lily_return_double</a></td><td class=SDescription>Set a Double return value.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_return_integer" id=link195 onMouseOver="ShowTip(event, 'tt74', 'link195')" onMouseOut="HideTip('tt74')">lily_return_integer</a></td><td class=SDescription>Set an Integer return value.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_return_none" id=link196 onMouseOver="ShowTip(event, 'tt75', 'link196')" onMouseOut="HideTip('tt75')">lily_return_none</a></td><td class=SDescription>Set a None return value.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_return_super" id=link197 onMouseOver="ShowTip(event, 'tt76', 'link197')" onMouseOut="HideTip('tt76')">lily_return_super</a></td><td class=SDescription>Use this if lily_push_super was used.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_return_top" id=link198 onMouseOver="ShowTip(event, 'tt77', 'link198')" onMouseOut="HideTip('tt77')">lily_return_top</a></td><td class=SDescription>Set the return value as the value currently at the top of the stack.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_return_unit" id=link199 onMouseOver="ShowTip(event, 'tt78', 'link199')" onMouseOut="HideTip('tt78')">lily_return_unit</a></td><td class=SDescription>Set a Unit return value.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_return_value" id=link200 onMouseOver="ShowTip(event, 'tt79', 'link200')" onMouseOut="HideTip('tt79')">lily_return_value</a></td><td class=SDescription>Set the value given as the return value.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_return_boolean"></a>lily_return_boolean</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_return_boolean(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Set a Boolean return value.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_return_byte"></a>lily_return_byte</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_return_byte (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>uint8_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Set a Byte return value.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_return_double"></a>lily_return_double</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_return_double (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>double&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Set a Double return value.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_return_integer"></a>lily_return_integer</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_return_integer(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int64_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Set an Integer return value.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_return_none"></a>lily_return_none</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_return_none (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Set a None return value.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_return_super"></a>lily_return_super</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_return_super (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Use this if lily_push_super was used.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_return_top"></a>lily_return_top</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_return_top (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Set the return value as the value currently at the top of the stack.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_return_unit"></a>lily_return_unit</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_return_unit (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Set a Unit return value.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_return_value"></a>lily_return_value</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_return_value (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Set the value given as the return value.</p></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="Value_extraction"></a>Value extraction</h2><div class=CBody><p>Extract a raw value from a full value.</p><p>Assumes that the caller knows the correct underlying value.</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_as_boolean" id=link201 onMouseOver="ShowTip(event, 'tt80', 'link201')" onMouseOut="HideTip('tt80')">lily_as_boolean</a></td><td class=SDescription>Extract a Boolean.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_as_byte" id=link202 onMouseOver="ShowTip(event, 'tt81', 'link202')" onMouseOut="HideTip('tt81')">lily_as_byte</a></td><td class=SDescription>Extract a Byte.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_as_bytestring" id=link203 onMouseOver="ShowTip(event, 'tt82', 'link203')" onMouseOut="HideTip('tt82')">lily_as_bytestring</a></td><td class=SDescription>Extract a ByteString.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_as_container" id=link204 onMouseOver="ShowTip(event, 'tt83', 'link204')" onMouseOut="HideTip('tt83')">lily_as_container</a></td><td class=SDescription>Extract a container (user-defined class, non-empty variant, List, or Tuple).</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_as_double" id=link205 onMouseOver="ShowTip(event, 'tt84', 'link205')" onMouseOut="HideTip('tt84')">lily_as_double</a></td><td class=SDescription>Extract a Double.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_as_file" id=link206 onMouseOver="ShowTip(event, 'tt85', 'link206')" onMouseOut="HideTip('tt85')">lily_as_file</a></td><td class=SDescription>Extract a File.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_as_function" id=link207 onMouseOver="ShowTip(event, 'tt86', 'link207')" onMouseOut="HideTip('tt86')">lily_as_function</a></td><td class=SDescription>Extract a Function.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_as_generic" id=link208 onMouseOver="ShowTip(event, 'tt87', 'link208')" onMouseOut="HideTip('tt87')">lily_as_generic</a></td><td class=SDescription>Extract a generic pointer (to be cast to some other type)..</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_as_hash" id=link209 onMouseOver="ShowTip(event, 'tt88', 'link209')" onMouseOut="HideTip('tt88')">lily_as_hash</a></td><td class=SDescription>Extract a Hash.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_as_integer" id=link210 onMouseOver="ShowTip(event, 'tt89', 'link210')" onMouseOut="HideTip('tt89')">lily_as_integer</a></td><td class=SDescription>Extract a Integer.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_as_string" id=link211 onMouseOver="ShowTip(event, 'tt90', 'link211')" onMouseOut="HideTip('tt90')">lily_as_string</a></td><td class=SDescription>Extract a String.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_as_string_raw" id=link212 onMouseOver="ShowTip(event, 'tt91', 'link212')" onMouseOut="HideTip('tt91')">lily_as_string_raw</a></td><td class=SDescription>Extract the raw buffer behind a String.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_as_boolean"></a>lily_as_boolean</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_as_boolean (</td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Extract a Boolean.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_as_byte"></a>lily_as_byte</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>uint8_t lily_as_byte (</td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Extract a Byte.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_as_bytestring"></a>lily_as_bytestring</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_bytestring_val *lily_as_bytestring(</td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Extract a ByteString.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_as_container"></a>lily_as_container</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_container_val * lily_as_container (</td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Extract a container (user-defined class, non-empty variant, List, or Tuple).</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_as_double"></a>lily_as_double</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>double lily_as_double (</td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Extract a Double.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_as_file"></a>lily_as_file</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_file_val * lily_as_file (</td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Extract a File.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_as_function"></a>lily_as_function</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_function_val * lily_as_function (</td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Extract a Function.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_as_generic"></a>lily_as_generic</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_generic_val * lily_as_generic (</td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Extract a generic pointer (to be cast to some other type)..</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_as_hash"></a>lily_as_hash</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_hash_val * lily_as_hash (</td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Extract a Hash.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_as_integer"></a>lily_as_integer</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int64_t lily_as_integer (</td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Extract a Integer.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_as_string"></a>lily_as_string</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_string_val * lily_as_string (</td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Extract a String.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_as_string_raw"></a>lily_as_string_raw</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>char * lily_as_string_raw(</td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Extract the raw buffer behind a String.</p></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="Calling_a_function"></a>Calling a function</h2><div class=CBody><p>Functions for calling back into the interpreter.</p><p>These functions should only be called when the interpreter is inside a foreign function, or outside of a parse/render call.&nbsp; Do not invoke these functions from a dynaload loader or a hook.</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_call" id=link213 onMouseOver="ShowTip(event, 'tt92', 'link213')" onMouseOut="HideTip('tt92')">lily_call</a></td><td class=SDescription>(Stack: -count) Perform a prepared call using values from the stack.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_call_prepare" id=link214 onMouseOver="ShowTip(event, 'tt93', 'link214')" onMouseOut="HideTip('tt93')">lily_call_prepare</a></td><td class=SDescription>(Stack: +1) Reserve a result register and prepare &lsquo;func&rsquo;.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_call_result" id=link215 onMouseOver="ShowTip(event, 'tt94', 'link215')" onMouseOut="HideTip('tt94')">lily_call_result</a></td><td class=SDescription>Return the register that &lsquo;lily_call_prepare&rsquo; reserved.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_call"></a>lily_call</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_call(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>count</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>(Stack: -count) Perform a prepared call using values from the stack.</p><p>This function performs a single call into the interpreter.&nbsp; The call in question does not trap for exceptions, so exceptions raised by this call will pass through the caller.</p><p>This takes &lsquo;count&rsquo; values off of the top of the stack.&nbsp; The section on argument handling details how various features (varargs, optargs, and keyargs) are implemented.&nbsp; Refer to that for how to call those kinds of functions.</p><p>Function calls always have a result.&nbsp; The result is stored in the register that was returned by the last call to &lsquo;lily_call_prepare&rsquo;.&nbsp; If a caller wants to save the result of a function call, it can use lily_push_value to push the result onto the stack.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_call_prepare"></a>lily_call_prepare</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_call_prepare(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_function_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>func</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>(Stack: +1) Reserve a result register and prepare &lsquo;func&rsquo;.</p><p>This function **must** be called **before** pushing arguments to a function.&nbsp; The function given is prepared so that subsequent calls to &lsquo;lily_call&rsquo; will invoke it.&nbsp; Many functions in Lily&rsquo;s standard library (maps, selects, rejects) like to call the same function multiple times.&nbsp; Having prep outside of call makes it so that the interpreter does not do repeated repeated prep work for each calls.&nbsp; A single prep works for any number of subsequent &lsquo;lily_call&rsquo; invocations.</p><p>The other job of this function is to set a result storage.&nbsp; The result storage lives below a function&rsquo;s arguments and is updated each time the function is called.&nbsp; Callers that want to save the value can slide it over where they want it or push a copy onto the stack.</p><p>If the caller wants to switch the target function often, the caller should make sure to pop the results that are stored.&nbsp; Otherwise, the interpreter&rsquo;s stack can accumulate result values.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_call_result"></a>lily_call_result</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_value *lily_call_result(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Return the register that &lsquo;lily_call_prepare&rsquo; reserved.</p><p>The value itself (not the contents) is valid until the next &lsquo;lily_call_prepare&rsquo;, or when the called foreign function goes out of scope.</p></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="Exception_raise"></a>Exception raise</h2><div class=CBody><p>Functions for raising an exception.</p><p>Each of these functions raises a specific exception.&nbsp; The format string goes by the same rules that &lsquo;lily_msgbuf_add_fmt&rsquo; goes by, because it (and the arguments) are sent to that function.</p><p>These functions must only be called when inside a foreign function.</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_DivisionByZeroError" id=link216 onMouseOver="ShowTip(event, 'tt95', 'link216')" onMouseOut="HideTip('tt95')">lily_DivisionByZeroError</a></td><td class=SDescription>Raise DivisionByZeroError with the given message and args.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_IndexError" id=link217 onMouseOver="ShowTip(event, 'tt96', 'link217')" onMouseOut="HideTip('tt96')">lily_IndexError</a></td><td class=SDescription>Raise IndexError with the given message and args.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_IOError" id=link218 onMouseOver="ShowTip(event, 'tt97', 'link218')" onMouseOut="HideTip('tt97')">lily_IOError</a></td><td class=SDescription>Raise IOError with the given message and args.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_KeyError" id=link219 onMouseOver="ShowTip(event, 'tt98', 'link219')" onMouseOut="HideTip('tt98')">lily_KeyError</a></td><td class=SDescription>Raise KeyError with the given message and args.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_RuntimeError" id=link220 onMouseOver="ShowTip(event, 'tt99', 'link220')" onMouseOut="HideTip('tt99')">lily_RuntimeError</a></td><td class=SDescription>Raise RuntimeError with the given message and args.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_ValueError" id=link221 onMouseOver="ShowTip(event, 'tt100', 'link221')" onMouseOut="HideTip('tt100')">lily_ValueError</a></td><td class=SDescription>Raise ValueError with the given message and args.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_DivisionByZeroError"></a>lily_DivisionByZeroError</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_DivisionByZeroError(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>format,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>...</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Raise DivisionByZeroError with the given message and args.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_IndexError"></a>lily_IndexError</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_IndexError(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>format,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>...</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Raise IndexError with the given message and args.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_IOError"></a>lily_IOError</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_IOError(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>format,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>...</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Raise IOError with the given message and args.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_KeyError"></a>lily_KeyError</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_KeyError(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>format,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>...</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Raise KeyError with the given message and args.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_RuntimeError"></a>lily_RuntimeError</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_RuntimeError(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>format,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>...</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Raise RuntimeError with the given message and args.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_ValueError"></a>lily_ValueError</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_ValueError(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>format,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>...</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Raise ValueError with the given message and args.</p></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="Error_callbacks"></a>Error callbacks</h2><div class=CBody><p>Foreign function cleanup.</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#Types" >Types</a></td><td class=SDescription></td></tr><tr class="SType SIndent1 SMarked"><td class=SEntry><a href="#lily_error_callback_func" >lily_error_callback_func</a></td><td class=SDescription>Callback for when lily_call raises an exception.</td></tr><tr class="SGroup"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_error_callback_push" id=link222 onMouseOver="ShowTip(event, 'tt101', 'link222')" onMouseOut="HideTip('tt101')">lily_error_callback_push</a></td><td class=SDescription>Push an error callback for the current foreign function.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_error_callback_pop" id=link223 onMouseOver="ShowTip(event, 'tt102', 'link223')" onMouseOut="HideTip('tt102')">lily_error_callback_pop</a></td><td class=SDescription>Remove an error callback (typically at foreign function exit).</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Types"></a>Types</h3></div></div>

<div class="CType"><div class=CTopic><h3 class=CTitle><a name="lily_error_callback_func"></a>lily_error_callback_func</h3><div class=CBody><p>Callback for when lily_call raises an exception.</p><p>Error callbacks are invoked when lily_call has raised an exception that will go outside the invoking foreign function.&nbsp; The callback is given a state that has the same stack bottom as when the foreign function registering it had when first called.</p><p>One use of error functions in the builtin api is to drop the iteration count of hashes.&nbsp; This makes them eligible for alteration again, as hashes that are being iterated over cannot be altered.</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_error_callback_push"></a>lily_error_callback_push</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_error_callback_push(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_error_callback_func&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>callback_fn</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Push an error callback for the current foreign function.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_error_callback_pop"></a>lily_error_callback_pop</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_error_callback_pop(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Remove an error callback (typically at foreign function exit).</p><p>A foreign function must call this for every error callback it registered if no error was raised.</p></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="Stack_operations"></a>Stack operations</h2><div class=CBody><p>Operations working on the top of the stack.</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_stack_drop_top" id=link224 onMouseOver="ShowTip(event, 'tt103', 'link224')" onMouseOut="HideTip('tt103')">lily_stack_drop_top</a></td><td class=SDescription>Pop the top of the stack, deref-ing it if necessary.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_stack_get_top" id=link225 onMouseOver="ShowTip(event, 'tt104', 'link225')" onMouseOut="HideTip('tt104')">lily_stack_get_top</a></td><td class=SDescription>Return the value at the top of the stack.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_stack_drop_top"></a>lily_stack_drop_top</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_stack_drop_top(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Pop the top of the stack, deref-ing it if necessary.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_stack_get_top"></a>lily_stack_get_top</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_value *lily_stack_get_top(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Return the value at the top of the stack.</p></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="Message_buffer_operations"></a>Message buffer operations</h2><div class=CBody><p>A wrapper over an automatically-growing buffer.</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#Types" >Types</a></td><td class=SDescription></td></tr><tr class="SType SIndent1 SMarked"><td class=SEntry><a href="#lily_msgbuf" >lily_msgbuf</a></td><td class=SDescription>Opaque typedef for a msgbuf.</td></tr><tr class="SGroup"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_new_msgbuf" id=link226 onMouseOver="ShowTip(event, 'tt105', 'link226')" onMouseOut="HideTip('tt105')">lily_new_msgbuf</a></td><td class=SDescription>Create a new msgbuf with a starting size of &lsquo;size&rsquo;.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_free_msgbuf" id=link227 onMouseOver="ShowTip(event, 'tt106', 'link227')" onMouseOut="HideTip('tt106')">lily_free_msgbuf</a></td><td class=SDescription>Free a msgbuf struct and the underlying buffer.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_mb_add" id=link228 onMouseOver="ShowTip(event, 'tt107', 'link228')" onMouseOut="HideTip('tt107')">lily_mb_add</a></td><td class=SDescription>Add &lsquo;source&rsquo; to the msgbuf.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_mb_add_char" id=link229 onMouseOver="ShowTip(event, 'tt108', 'link229')" onMouseOut="HideTip('tt108')">lily_mb_add_char</a></td><td class=SDescription>Add a single character &lsquo;ch&rsquo; to the msgbuf.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_mb_add_fmt" id=link230 onMouseOver="ShowTip(event, 'tt109', 'link230')" onMouseOut="HideTip('tt109')">lily_mb_add_fmt</a></td><td class=SDescription>Add to the msgbuf based on a format string.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_mb_add_fmt_va" id=link231 onMouseOver="ShowTip(event, 'tt110', 'link231')" onMouseOut="HideTip('tt110')">lily_mb_add_fmt_va</a></td><td class=SDescription>lily_mb_add_fmt, but using a va_list.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_mb_add_slice" id=link232 onMouseOver="ShowTip(event, 'tt111', 'link232')" onMouseOut="HideTip('tt111')">lily_mb_add_slice</a></td><td class=SDescription>Add &lsquo;source&rsquo; to the msgbuf, from &lsquo;start&rsquo; to &lsquo;end&rsquo;.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_mb_add_value" id=link233 onMouseOver="ShowTip(event, 'tt112', 'link233')" onMouseOut="HideTip('tt112')">lily_mb_add_value</a></td><td class=SDescription>Interpolate a value into the msgbuf.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_mb_flush" id=link234 onMouseOver="ShowTip(event, 'tt113', 'link234')" onMouseOut="HideTip('tt113')">lily_mb_flush</a></td><td class=SDescription>Drop all contents in the msgbuf.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_mb_raw" id=link235 onMouseOver="ShowTip(event, 'tt114', 'link235')" onMouseOut="HideTip('tt114')">lily_mb_raw</a></td><td class=SDescription>Return the underlying buffer of a msgbuf.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_mb_pos" id=link236 onMouseOver="ShowTip(event, 'tt115', 'link236')" onMouseOut="HideTip('tt115')">lily_mb_pos</a></td><td class=SDescription>Return the length of the msgbuf.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_mb_html_escape" id=link237 onMouseOver="ShowTip(event, 'tt116', 'link237')" onMouseOut="HideTip('tt116')">lily_mb_html_escape</a></td><td class=SDescription>Add html-escaped version of &lsquo;input&rsquo; to the msgbuf.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_mb_sprintf" id=link238 onMouseOver="ShowTip(event, 'tt117', 'link238')" onMouseOut="HideTip('tt117')">lily_mb_sprintf</a></td><td class=SDescription>Equivalent to flush, add_fmt, returning the underlying buffer.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_msgbuf_get" id=link239 onMouseOver="ShowTip(event, 'tt118', 'link239')" onMouseOut="HideTip('tt118')">lily_msgbuf_get</a></td><td class=SDescription>Return the common msgbuf of the interpreter.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Types"></a>Types</h3></div></div>

<div class="CType"><div class=CTopic><h3 class=CTitle><a name="lily_msgbuf"></a>lily_msgbuf</h3><div class=CBody><p>Opaque typedef for a msgbuf.</p><p>A message buffer (msgbuf for short) is a buffer with methods to add text that also grow it if necessary.&nbsp; The msgbuf also zero-terminates the internal buffer after every method adding data.</p><p>The interpreter provides a general-purpose buffer (&lsquo;lily_msgbuf_get&rsquo;) that operations can use if they know they&rsquo;ll be working with a small string.</p><p>It is the responsibility of the caller to flush a msgbuf **before** it is used, not after.&nbsp; By making it the responsibility at the start of a function, a caller that doesn&rsquo;t flush a msgbuf before use becomes obvious.&nbsp; Note that &lsquo;lily_msgbuf_get&rsquo; automatically does that flushing.</p><p>Functions that need to store a potentially large amount of text should create their own temporary msgbuf.&nbsp; Do note that the msgbuf never receives an interpreter object, and therefore the interpreter will not clean up temporary msgbuf&rsquo;s for a caller.</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_new_msgbuf"></a>lily_new_msgbuf</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_msgbuf *lily_new_msgbuf(</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>size</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Create a new msgbuf with a starting size of &lsquo;size&rsquo;.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_free_msgbuf"></a>lily_free_msgbuf</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_free_msgbuf(</td><td class="PType  prettyprint " nowrap>lily_msgbuf&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>msgbuf</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Free a msgbuf struct and the underlying buffer.</p><p>Unlike destroying a value, this process is very straightforward.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_mb_add"></a>lily_mb_add</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_mb_add(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_msgbuf&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>msgbuf,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>source</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Add &lsquo;source&rsquo; to the msgbuf.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_mb_add_char"></a>lily_mb_add_char</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_mb_add_char(</td><td class="PType  prettyprint " nowrap>lily_msgbuf&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>msgbuf,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>ch</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Add a single character &lsquo;ch&rsquo; to the msgbuf.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_mb_add_fmt"></a>lily_mb_add_fmt</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_mb_add_fmt(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_msgbuf&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>msgbuf,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>format,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>...</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Add to the msgbuf based on a format string.</p><h4 class=CHeading>The following format characters are supported</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>%d</td><td class=CDLDescription>int</td></tr><tr><td class=CDLEntry>%c</td><td class=CDLDescription>char</td></tr><tr><td class=CDLEntry>%s</td><td class=CDLDescription>char *</td></tr><tr><td class=CDLEntry>%p</td><td class=CDLDescription>void *</td></tr><tr><td class=CDLEntry>%lld</td><td class=CDLDescription>int64_t</td></tr><tr><td class=CDLEntry>%%</td><td class=CDLDescription>A single % character.</td></tr><tr><td class=CDLEntry>^T</td><td class=CDLDescription>lily_type * (internal use only).</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_mb_add_fmt_va"></a>lily_mb_add_fmt_va</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_mb_add_fmt_va(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_msgbuf&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>msgbuf,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>format,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>va_list</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>lily_mb_add_fmt, but using a va_list.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_mb_add_slice"></a>lily_mb_add_slice</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_mb_add_slice(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_msgbuf&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>msgbuf,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>source,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>start,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>end</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Add &lsquo;source&rsquo; to the msgbuf, from &lsquo;start&rsquo; to &lsquo;end&rsquo;.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_mb_add_value"></a>lily_mb_add_value</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_mb_add_value(</td><td class="PType  prettyprint " nowrap>lily_msgbuf&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>msgbuf,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Interpolate a value into the msgbuf.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_mb_flush"></a>lily_mb_flush</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_msgbuf *lily_mb_flush(</td><td class="PType  prettyprint " nowrap>lily_msgbuf&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>msgbuf</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Drop all contents in the msgbuf.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_mb_raw"></a>lily_mb_raw</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>const char *lily_mb_raw(</td><td class="PType  prettyprint " nowrap>lily_msgbuf&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>msgbuf</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Return the underlying buffer of a msgbuf.</p><p>The buffer can be invalidated by any method that adds to the buffer.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_mb_pos"></a>lily_mb_pos</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_mb_pos(</td><td class="PType  prettyprint " nowrap>lily_msgbuf&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>msgbuf</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Return the length of the msgbuf.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_mb_html_escape"></a>lily_mb_html_escape</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>const char *lily_mb_html_escape(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_msgbuf&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>msgbuf,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>input</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Add html-escaped version of &lsquo;input&rsquo; to the msgbuf.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_mb_sprintf"></a>lily_mb_sprintf</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>const char *lily_mb_sprintf(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_msgbuf&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>msgbuf,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>format,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>...</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Equivalent to flush, add_fmt, returning the underlying buffer.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_msgbuf_get"></a>lily_msgbuf_get</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_msgbuf *lily_msgbuf_get(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap></td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Return the common msgbuf of the interpreter.</p></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="Foreign_bits"></a>Foreign bits</h2><div class=CBody><p>Items of interest for putting a foreign class into Lily.</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#Macros" >Macros</a></td><td class=SDescription></td></tr><tr class="SMacro SIndent1 SMarked"><td class=SEntry><a href="#LILY_FOREIGN_HEADER" >LILY_FOREIGN_HEADER</a></td><td class=SDescription>Put this macro at the top of any struct that is later introduced as a foreign class to the interpreter.</td></tr><tr class="SGroup"><td class=SEntry><a href="#Types" >Types</a></td><td class=SDescription></td></tr><tr class="SType SIndent1 SMarked"><td class=SEntry><a href="#lily_destroy_func" >lily_destroy_func</a></td><td class=SDescription>Hook called when a value is to be destroyed.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Macros"></a>Macros</h3></div></div>

<div class="CMacro"><div class=CTopic><h3 class=CTitle><a name="LILY_FOREIGN_HEADER"></a>LILY_FOREIGN_HEADER</h3><div class=CBody><p>Put this macro at the top of any struct that is later introduced as a foreign class to the interpreter.</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Types"></a>Types</h3></div></div>

<div class="CType"><div class=CTopic><h3 class=CTitle><a name="lily_destroy_func"></a>lily_destroy_func</h3><div class=CBody><p>Hook called when a value is to be destroyed.</p><p>This callback receives a generic_val, which is to be cast to the instance to be destroyed.&nbsp; The callback is responsible for destroying what exists inside of the value.</p><p>The value itself should not be destroyed, because the interpreter will do that once the callback has returned.</p></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="Miscellaneous"></a>Miscellaneous</h2><div class=CBody><p>Miscellaneous operations that don&rsquo;t fit elsewhere.</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_find_function" id=link240 onMouseOver="ShowTip(event, 'tt119', 'link240')" onMouseOut="HideTip('tt119')">lily_find_function</a></td><td class=SDescription>Search for a function called &lsquo;name&rsquo;.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_register_module" >lily_register_module</a></td><td class=SDescription>Make a module called &lsquo;name&rsquo; available to the interpreter.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_is_valid_utf8" id=link241 onMouseOver="ShowTip(event, 'tt120', 'link241')" onMouseOut="HideTip('tt120')">lily_is_valid_utf8</a></td><td class=SDescription>Check if &lsquo;source&rsquo; is valid utf-8.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#lily_value_tag" id=link242 onMouseOver="ShowTip(event, 'tt121', 'link242')" onMouseOut="HideTip('tt121')">lily_value_tag</a></td><td class=SDescription>Place a gc tag onto &lsquo;value&rsquo;. </td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#lily_cid_at" id=link243 onMouseOver="ShowTip(event, 'tt122', 'link243')" onMouseOut="HideTip('tt122')">lily_cid_at</a></td><td class=SDescription>Function for autogenerated ID_* macros to get a class id.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_find_function"></a>lily_find_function</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_function_val *lily_find_function(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>name</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Search for a function called &lsquo;name&rsquo;.</p><p>The search executes as if &lsquo;name&rsquo; was typed in the first file loaded.&nbsp; This function is currently limited, as it only accepts just a name (no namespace lookup or class lookup).</p><p>Returns a function on success, NULL on failure.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_register_module"></a>lily_register_module</h3><div class=CBody><p>Make a module called &lsquo;name&rsquo; available to the interpreter.</p><p>A registered module is available anywhere in the interpreter, but must still be explicitly loaded through the import keyword.</p><p>This function must be called after the interpreter object is created, but before any parsing begins.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_is_valid_utf8"></a>lily_is_valid_utf8</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_is_valid_utf8(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>source</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Check if &lsquo;source&rsquo; is valid utf-8.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_value_tag"></a>lily_value_tag</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_value_tag(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Place a gc tag onto &lsquo;value&rsquo;.&nbsp; May invoke a sweep.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="lily_cid_at"></a>lily_cid_at</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>uint16_t lily_cid_at(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Function for autogenerated ID_* macros to get a class id.</p></div></div></div>

</div><!--Content-->


<div id=Footer><a href="http://www.naturaldocs.org">Generated by Natural Docs</a></div><!--Footer-->


<div id=Menu><div class=MEntry><div class=MFile id=MSelected>API Reference - Lily</div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent1')">Index</a><div class=MGroupContent id=MGroupContent1><div class=MEntry><div class=MIndex><a href="../index/Classes.html">Classes</a></div></div><div class=MEntry><div class=MIndex><a href="../index/General.html">Everything</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Functions.html">Functions</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Macros.html">Macros</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Types.html">Types</a></div></div></div></div></div><script type="text/javascript"><!--
var searchPanel = new SearchPanel("searchPanel", "HTML", "../search");
--></script><div id=MSearchPanel class=MSearchPanelInactive><input type=text id=MSearchField value=Search onFocus="searchPanel.OnSearchFieldFocus(true)" onBlur="searchPanel.OnSearchFieldFocus(false)" onKeyUp="searchPanel.OnSearchFieldChange()"><select id=MSearchType onFocus="searchPanel.OnSearchTypeFocus(true)" onBlur="searchPanel.OnSearchTypeFocus(false)" onChange="searchPanel.OnSearchTypeChange()"><option  id=MSearchEverything selected value="General">Everything</option><option value="Classes">Classes</option><option value="Functions">Functions</option><option value="Macros">Macros</option><option value="Types">Types</option></select></div></div><!--Menu-->



<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CClass><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">typedef struct lily_config_</td></tr></table></blockquote>All interpreter config info goes here.</div></div><div class=CToolTip id="tt2"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_config_init(</td><td class="PType  prettyprint " nowrap>lily_config&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>config</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Initialize a config to default values.</div></div><div class=CToolTip id="tt3"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_config *lily_config_get(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Fetch an interpreter&rsquo;s config struct.</div></div><div class=CToolTip id="tt4"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_state *lily_new_state(</td><td class="PType  prettyprint " nowrap>lily_config&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>config</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Create a new interpreter.</div></div><div class=CToolTip id="tt5"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_free_state(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Destroy an interpreter and any values it holds.</div></div><div class=CToolTip id="tt6"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_parse_file(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>filename</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Send an interpreter to parse a file.</div></div><div class=CToolTip id="tt7"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_parse_string(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>context,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>data</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Send an interpreter to parse a string.</div></div><div class=CToolTip id="tt8"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_parse_expr(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>context,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>data,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>**</td><td class="PParameter  prettyprint " nowrap>output</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Process an expression.</div></div><div class=CToolTip id="tt9"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_render_file(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>filename</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Send an interpreter to render a file.</div></div><div class=CToolTip id="tt10"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_render_string(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>context,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>data</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Send an interpreter to render a string.</div></div><div class=CToolTip id="tt11"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>const char *lily_error_message(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Fetch the message and traceback of the last failed parse/render.</div></div><div class=CToolTip id="tt12"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>const char *lily_error_message_no_trace(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Fetch only the message of the last failed parse/render.</div></div><div class=CToolTip id="tt13"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_open_file(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>path</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Load a Lily file from a given path.</div></div><div class=CToolTip id="tt14"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_open_library(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>path</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Load a library from a given path.</div></div><div class=CToolTip id="tt15"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_open_library_data(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>path,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>**</td><td class="PParameter  prettyprint " nowrap>dynaload_table,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>void&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>loader</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Load a preloaded library.</div></div><div class=CToolTip id="tt16"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_open_string(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>path,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>content</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Load a string (context path, then content) as a library.</div></div><div class=CToolTip id="tt17"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>char *lily_bytestring_raw(</td><td class="PType  prettyprint " nowrap>lily_bytestring_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>byte_val</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Get the raw buffer behind a ByteString.</div></div><div class=CToolTip id="tt18"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_bytestring_length(</td><td class="PType  prettyprint " nowrap>lily_bytestring_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>byte_val</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Get the size (in bytes) of a ByteString.</div></div><div class=CToolTip id="tt19"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_value *lily_con_get(</td><td class="PType  prettyprint " nowrap>lily_container_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>con,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Fetch an element from a container.</div></div><div class=CToolTip id="tt20"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_con_set(</td><td class="PType  prettyprint " nowrap>lily_container_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>con,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Set an element into a container.</div></div><div class=CToolTip id="tt21"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_con_set_from_stack(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_container_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>con,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>(Stack: -1) Set an element into a container from the stack.</div></div><div class=CToolTip id="tt22"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>uint32_t lily_con_size(</td><td class="PType  prettyprint " nowrap>lily_container_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>con</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Return the number of occupied values in a container.</div></div><div class=CToolTip id="tt23"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>FILE *lily_file_for_read(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_file_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>file</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Return the underlying FILE * of a File (if in read mode), or raise IOError.</div></div><div class=CToolTip id="tt24"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>FILE *lily_file_for_write(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_file_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>file</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Return the underlying FILE * of a File (if in write mode), or raise IOError.</div></div><div class=CToolTip id="tt25"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_function_is_foreign(</td><td class="PType  prettyprint " nowrap>lily_function_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>func</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Return 1 if the Function has a foreign implementation, 0 otherwise.</div></div><div class=CToolTip id="tt26"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_function_is_native(</td><td class="PType  prettyprint " nowrap>lily_function_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>func</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Return 1 if the Function has a native implementation, 0 otherwise.</div></div><div class=CToolTip id="tt27"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_value *lily_hash_get(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_hash_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>hash,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>key</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Look for a given key within a Hash.</div></div><div class=CToolTip id="tt28"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_hash_set(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_hash_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>hash,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>key,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>record</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Set &lsquo;key&rsquo; to &lsquo;value&rsquo; within a given hash.</div></div><div class=CToolTip id="tt29"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_hash_set_from_stack(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_hash_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>hash</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>(Stack: -2) lily_hash_set, but key and value come from the stack.</div></div><div class=CToolTip id="tt30"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_hash_take(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_hash_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>hash,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>key</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>(Stack: +1?)</div></div><div class=CToolTip id="tt31"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_list_insert(</td><td class="PType  prettyprint " nowrap>lily_container_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>con,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Insert a value, pushing others to the right.</div></div><div class=CToolTip id="tt32"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_list_reserve(</td><td class="PType  prettyprint " nowrap>lily_container_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>con,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>size</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Reserve N elements in a List.</div></div><div class=CToolTip id="tt33"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_list_take(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_container_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>con,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>(Stack: +1) Take an element out of a List, pushing it onto the stack.</div></div><div class=CToolTip id="tt34"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_list_push(</td><td class="PType  prettyprint " nowrap>lily_container_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>con,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Push a value onto the end of a List.</div></div><div class=CToolTip id="tt35"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>char *lily_string_raw(</td><td class="PType  prettyprint " nowrap>lily_string_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>string_val</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Returns the raw buffer behind a String.</div></div><div class=CToolTip id="tt36"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_string_length(</td><td class="PType  prettyprint " nowrap>lily_string_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>string_val</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Returns the size (in bytes) of a String buffer.</div></div><div class=CToolTip id="tt37"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_arg_boolean (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Fetch a Boolean from the stack.</div></div><div class=CToolTip id="tt38"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>uint8_t lily_arg_byte (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Fetch a Byte from the stack.</div></div><div class=CToolTip id="tt39"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_bytestring_val *lily_arg_bytestring(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Fetch a ByteString from the stack.</div></div><div class=CToolTip id="tt40"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_container_val * lily_arg_container (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Fetch a user-defined class, (non-empty) variant, List, or Tuple.</div></div><div class=CToolTip id="tt41"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>double lily_arg_double (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Fetch a Double from the stack.</div></div><div class=CToolTip id="tt42"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_file_val * lily_arg_file (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Fetch a File from the stack.</div></div><div class=CToolTip id="tt43"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_function_val * lily_arg_function (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Fetch a Function from the stack.</div></div><div class=CToolTip id="tt44"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_generic_val * lily_arg_generic (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Fetch a pointer-based (foreign) value from the stack.</div></div><div class=CToolTip id="tt45"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_hash_val * lily_arg_hash (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Fetch a Hash from the stack.</div></div><div class=CToolTip id="tt46"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int64_t lily_arg_integer (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Fetch a Integer from the stack.</div></div><div class=CToolTip id="tt47"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_string_val * lily_arg_string (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Fetch a String from the stack.</div></div><div class=CToolTip id="tt48"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>char * lily_arg_string_raw(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Fetch the underlying buffer of a String from the stack.</div></div><div class=CToolTip id="tt49"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_value * lily_arg_value (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Fetch a complete value with flags and class information.</div></div><div class=CToolTip id="tt50"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_arg_count(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>How many arguments the function being called was given.</div></div><div class=CToolTip id="tt51"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_arg_isa(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>uint16_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>class_id</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Check if an argument has an exact class id.</div></div><div class=CToolTip id="tt52"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_push_boolean (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>(Stack: +1) Push a Boolean value onto the stack.</div></div><div class=CToolTip id="tt53"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_push_byte (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>uint8_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>(Stack: +1) Push a Byte value onto the stack.</div></div><div class=CToolTip id="tt54"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_push_bytestring (</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>source,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>size</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>(Stack: +1) Push a ByteString value onto the stack.</div></div><div class=CToolTip id="tt55"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_push_double (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>double&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>(Stack: +1) Push a Double value onto the stack.</div></div><div class=CToolTip id="tt56"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_container_val *lily_push_dynamic (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>(Stack: +1) Push a Dynamic value onto the stack.</div></div><div class=CToolTip id="tt57"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_push_empty_variant(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>uint16_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>class_id</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>(Stack: +1) Push an empty variant (such as None) onto the stack.</div></div><div class=CToolTip id="tt58"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_push_file (</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>FILE&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>f,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>mode</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>(Stack: +1) Push a file onto the stack (interpreter takes it over).</div></div><div class=CToolTip id="tt59"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_foreign_val * lily_push_foreign (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>uint16_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>class_id,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_destroy_func&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>destroy_fn,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>size_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>size</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>(Stack: +1) Push a foreign class value onto the stack.</div></div><div class=CToolTip id="tt60"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_hash_val * lily_push_hash (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>size</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>(Stack: +1) Push a new Hash with &lsquo;size&rsquo; slots reserved onto the stack.</div></div><div class=CToolTip id="tt61"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_container_val *lily_push_instance (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>uint16_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>class_id,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>size</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>(Stack: +1) Push a user-defined class instance with &lsquo;size&rsquo; values onto the stack.</div></div><div class=CToolTip id="tt62"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_push_integer (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int64_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>(Stack: +1) Push a new Integer onto the stack.</div></div><div class=CToolTip id="tt63"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_container_val *lily_push_list (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>size</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>(Stack: +1) Push a List with &lsquo;size&rsquo; values onto the stack.</div></div><div class=CToolTip id="tt64"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_push_string (</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>source</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>(Stack: +1) Push a String wrapping over &lsquo;source&rsquo; onto the stack.</div></div><div class=CToolTip id="tt65"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_push_string_sized (</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>source,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>size</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>(Stack: +1) Push a String of &lsquo;size&rsquo; bytes from &lsquo;source&rsquo; onto the stack.</div></div><div class=CToolTip id="tt66"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_container_val *lily_push_super (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>uint16_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>class_id,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>size</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>(Stack: +1) Push a superclass onto the stack.</div></div><div class=CToolTip id="tt67"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_container_val *lily_push_tuple (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>size</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>(Stack: +1) Push a Tuple with &lsquo;size&rsquo; values onto the stack.</div></div><div class=CToolTip id="tt68"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_push_unit (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>(Stack: +1) Push the unit value (of class Unit) onto the stack.</div></div><div class=CToolTip id="tt69"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_push_value (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>(Stack: +1) Push a full value onto the stack.</div></div><div class=CToolTip id="tt70"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_container_val *lily_push_variant (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>uint16_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>class_id,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>size</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>(Stack: +1) Push a variant of &lsquo;class_id&rsquo; and &lsquo;size&rsquo; values onto the stack.</div></div><div class=CToolTip id="tt71"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_return_boolean(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Set a Boolean return value.</div></div><div class=CToolTip id="tt72"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_return_byte (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>uint8_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Set a Byte return value.</div></div><div class=CToolTip id="tt73"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_return_double (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>double&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Set a Double return value.</div></div><div class=CToolTip id="tt74"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_return_integer(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int64_t&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Set an Integer return value.</div></div><div class=CToolTip id="tt75"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_return_none (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Set a None return value.</div></div><div class=CToolTip id="tt76"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_return_super (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Use this if lily_push_super was used.</div></div><div class=CToolTip id="tt77"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_return_top (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Set the return value as the value currently at the top of the stack.</div></div><div class=CToolTip id="tt78"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_return_unit (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Set a Unit return value.</div></div><div class=CToolTip id="tt79"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_return_value (</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Set the value given as the return value.</div></div><div class=CToolTip id="tt80"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_as_boolean (</td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Extract a Boolean.</div></div><div class=CToolTip id="tt81"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>uint8_t lily_as_byte (</td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Extract a Byte.</div></div><div class=CToolTip id="tt82"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_bytestring_val *lily_as_bytestring(</td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Extract a ByteString.</div></div><div class=CToolTip id="tt83"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_container_val * lily_as_container (</td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Extract a container (user-defined class, non-empty variant, List, or Tuple).</div></div><div class=CToolTip id="tt84"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>double lily_as_double (</td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Extract a Double.</div></div><div class=CToolTip id="tt85"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_file_val * lily_as_file (</td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Extract a File.</div></div><div class=CToolTip id="tt86"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_function_val * lily_as_function (</td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Extract a Function.</div></div><div class=CToolTip id="tt87"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_generic_val * lily_as_generic (</td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Extract a generic pointer (to be cast to some other type)..</div></div><div class=CToolTip id="tt88"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_hash_val * lily_as_hash (</td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Extract a Hash.</div></div><div class=CToolTip id="tt89"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int64_t lily_as_integer (</td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Extract a Integer.</div></div><div class=CToolTip id="tt90"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_string_val * lily_as_string (</td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Extract a String.</div></div><div class=CToolTip id="tt91"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>char * lily_as_string_raw(</td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Extract the raw buffer behind a String.</div></div><div class=CToolTip id="tt92"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_call(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>count</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>(Stack: -count) Perform a prepared call using values from the stack.</div></div><div class=CToolTip id="tt93"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_call_prepare(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_function_val&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>func</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>(Stack: +1) Reserve a result register and prepare &lsquo;func&rsquo;.</div></div><div class=CToolTip id="tt94"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_value *lily_call_result(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Return the register that &lsquo;lily_call_prepare&rsquo; reserved.</div></div><div class=CToolTip id="tt95"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_DivisionByZeroError(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>format,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>...</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Raise DivisionByZeroError with the given message and args.</div></div><div class=CToolTip id="tt96"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_IndexError(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>format,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>...</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Raise IndexError with the given message and args.</div></div><div class=CToolTip id="tt97"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_IOError(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>format,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>...</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Raise IOError with the given message and args.</div></div><div class=CToolTip id="tt98"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_KeyError(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>format,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>...</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Raise KeyError with the given message and args.</div></div><div class=CToolTip id="tt99"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_RuntimeError(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>format,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>...</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Raise RuntimeError with the given message and args.</div></div><div class=CToolTip id="tt100"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_ValueError(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>format,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>...</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Raise ValueError with the given message and args.</div></div><div class=CToolTip id="tt101"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_error_callback_push(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_error_callback_func&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>callback_fn</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Push an error callback for the current foreign function.</div></div><div class=CToolTip id="tt102"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_error_callback_pop(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Remove an error callback (typically at foreign function exit).</div></div><div class=CToolTip id="tt103"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_stack_drop_top(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Pop the top of the stack, deref-ing it if necessary.</div></div><div class=CToolTip id="tt104"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_value *lily_stack_get_top(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Return the value at the top of the stack.</div></div><div class=CToolTip id="tt105"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_msgbuf *lily_new_msgbuf(</td><td class="PType  prettyprint " nowrap>uint32_t&nbsp;</td><td class="PParameter  prettyprint " nowrap>size</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Create a new msgbuf with a starting size of &lsquo;size&rsquo;.</div></div><div class=CToolTip id="tt106"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_free_msgbuf(</td><td class="PType  prettyprint " nowrap>lily_msgbuf&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>msgbuf</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Free a msgbuf struct and the underlying buffer.</div></div><div class=CToolTip id="tt107"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_mb_add(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_msgbuf&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>msgbuf,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>source</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Add &lsquo;source&rsquo; to the msgbuf.</div></div><div class=CToolTip id="tt108"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_mb_add_char(</td><td class="PType  prettyprint " nowrap>lily_msgbuf&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>msgbuf,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>ch</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Add a single character &lsquo;ch&rsquo; to the msgbuf.</div></div><div class=CToolTip id="tt109"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_mb_add_fmt(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_msgbuf&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>msgbuf,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>format,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>...</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Add to the msgbuf based on a format string.</div></div><div class=CToolTip id="tt110"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_mb_add_fmt_va(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_msgbuf&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>msgbuf,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>format,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>va_list</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>lily_mb_add_fmt, but using a va_list.</div></div><div class=CToolTip id="tt111"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_mb_add_slice(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_msgbuf&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>msgbuf,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>source,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>start,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>end</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Add &lsquo;source&rsquo; to the msgbuf, from &lsquo;start&rsquo; to &lsquo;end&rsquo;.</div></div><div class=CToolTip id="tt112"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_mb_add_value(</td><td class="PType  prettyprint " nowrap>lily_msgbuf&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>msgbuf,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Interpolate a value into the msgbuf.</div></div><div class=CToolTip id="tt113"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_msgbuf *lily_mb_flush(</td><td class="PType  prettyprint " nowrap>lily_msgbuf&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>msgbuf</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Drop all contents in the msgbuf.</div></div><div class=CToolTip id="tt114"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>const char *lily_mb_raw(</td><td class="PType  prettyprint " nowrap>lily_msgbuf&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>msgbuf</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Return the underlying buffer of a msgbuf.</div></div><div class=CToolTip id="tt115"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_mb_pos(</td><td class="PType  prettyprint " nowrap>lily_msgbuf&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>msgbuf</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Return the length of the msgbuf.</div></div><div class=CToolTip id="tt116"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>const char *lily_mb_html_escape(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_msgbuf&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>msgbuf,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>input</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Add html-escaped version of &lsquo;input&rsquo; to the msgbuf.</div></div><div class=CToolTip id="tt117"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>const char *lily_mb_sprintf(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_msgbuf&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>msgbuf,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>format,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>...</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Equivalent to flush, add_fmt, returning the underlying buffer.</div></div><div class=CToolTip id="tt118"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_msgbuf *lily_msgbuf_get(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap></td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Return the common msgbuf of the interpreter.</div></div><div class=CToolTip id="tt119"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>lily_function_val *lily_find_function(</td><td class="PTypePrefix  prettyprint " nowrap></td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>name</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Search for a function called &lsquo;name&rsquo;.</div></div><div class=CToolTip id="tt120"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>int lily_is_valid_utf8(</td><td class="PTypePrefix  prettyprint " nowrap>const&nbsp;</td><td class="PType  prettyprint " nowrap>char&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>source</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Check if &lsquo;source&rsquo; is valid utf-8.</div></div><div class=CToolTip id="tt121"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>void lily_value_tag(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>lily_value&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>value</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Place a gc tag onto &lsquo;value&rsquo;. </div></div><div class=CToolTip id="tt122"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>uint16_t lily_cid_at(</td><td class="PType  prettyprint " nowrap>lily_state&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap>*</td><td class="PParameter  prettyprint " nowrap>s,</td></tr><tr><td></td><td class="PType  prettyprint " nowrap>int&nbsp;</td><td class="PParameterPrefix  prettyprint " nowrap></td><td class="PParameter  prettyprint " nowrap>index</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Function for autogenerated ID_* macros to get a class id.</div></div><!--END_ND_TOOLTIPS-->




<div id=MSearchResultsWindow><iframe src="" frameborder=0 name=MSearchResults id=MSearchResults></iframe><a href="javascript:searchPanel.CloseResultsWindow()" id=MSearchResultsWindowClose>Close</a></div>


<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>